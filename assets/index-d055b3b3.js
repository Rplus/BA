var Ye=Object.defineProperty;var Ze=(e,t,l)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var pe=(e,t,l)=>(Ze(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();function oe(){}function Fe(e){return e()}function je(){return Object.create(null)}function Y(e){e.forEach(Fe)}function He(e){return typeof e=="function"}function Ge(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let se;function Be(e,t){return e===t?!0:(se||(se=document.createElement("a")),se.href=t,e===se.href)}function xe(e){return Object.keys(e).length===0}const et=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function d(e,t){e.appendChild(t)}function D(e,t,l){e.insertBefore(t,l||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function ce(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function w(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function P(){return I(" ")}function be(){return I("")}function ee(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function u(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function tt(e){return e===""?null:+e}function lt(e){return Array.from(e.childNodes)}function K(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}function C(e,t,l,n){l==null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}let we;function ae(e){we=e}const te=[],ge=[];let le=[];const Ae=[],nt=Promise.resolve();let ve=!1;function it(){ve||(ve=!0,nt.then(Ue))}function ye(e){le.push(e)}const me=new Set;let x=0;function Ue(){if(x!==0)return;const e=we;do{try{for(;x<te.length;){const t=te[x];x++,ae(t),at(t.$$)}}catch(t){throw te.length=0,x=0,t}for(ae(null),te.length=0,x=0;ge.length;)ge.pop()();for(let t=0;t<le.length;t+=1){const l=le[t];me.has(l)||(me.add(l),l())}le.length=0}while(te.length);for(;Ae.length;)Ae.pop()();ve=!1,me.clear(),ae(e)}function at(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ye)}}function ot(e){const t=[],l=[];le.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),le=t}const ue=new Set;let X;function fe(){X={r:0,c:[],p:X}}function de(){X.r||Y(X.c),X=X.p}function F(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function W(e,t,l,n){if(e&&e.o){if(ue.has(e))return;ue.add(e),X.c.push(()=>{ue.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function U(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function st(e,t){W(e,1,1,()=>{t.delete(e.key)})}function rt(e,t,l,n,i,o,s,h,c,f,_,b){let p=e.length,a=o.length,r=p;const g={};for(;r--;)g[e[r].key]=r;const v=[],M=new Map,y=new Map,m=[];for(r=a;r--;){const j=b(i,o,r),E=l(j);let T=s.get(E);T?n&&m.push(()=>T.p(j,t)):(T=f(E,j),T.c()),M.set(E,v[r]=T),E in g&&y.set(E,Math.abs(r-g[E]))}const B=new Set,$=new Set;function N(j){F(j,1),j.m(h,_),s.set(j.key,j),_=j.first,a--}for(;p&&a;){const j=v[a-1],E=e[p-1],T=j.key,A=E.key;j===E?(_=j.first,p--,a--):M.has(A)?!s.has(T)||B.has(T)?N(j):$.has(A)?p--:y.get(T)>y.get(A)?($.add(T),N(j)):(B.add(A),p--):(c(E,s),p--)}for(;p--;){const j=e[p];M.has(j.key)||c(j,s)}for(;a;)N(v[a-1]);return Y(m),v}function ut(e){e&&e.c()}function Ve(e,t,l){const{fragment:n,after_update:i}=e.$$;n&&n.m(t,l),ye(()=>{const o=e.$$.on_mount.map(Fe).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...o):Y(o),e.$$.on_mount=[]}),i.forEach(ye)}function Ke(e,t){const l=e.$$;l.fragment!==null&&(ot(l.after_update),Y(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function ct(e,t){e.$$.dirty[0]===-1&&(te.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function We(e,t,l,n,i,o,s,h=[-1]){const c=we;ae(e);const f=e.$$={fragment:null,ctx:[],props:o,update:oe,not_equal:i,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(c?c.$$.context:[])),callbacks:je(),dirty:h,skip_bound:!1,root:t.target||c.$$.root};s&&s(f.root);let _=!1;if(f.ctx=l?l(e,t.props||{},(b,p,...a)=>{const r=a.length?a[0]:p;return f.ctx&&i(f.ctx[b],f.ctx[b]=r)&&(!f.skip_bound&&f.bound[b]&&f.bound[b](r),_&&ct(e,b)),p}):[],f.update(),_=!0,Y(f.before_update),f.fragment=n?n(f.ctx):!1,t.target){if(t.hydrate){const b=lt(t.target);f.fragment&&f.fragment.l(b),b.forEach(z)}else f.fragment&&f.fragment.c();t.intro&&F(e.$$.fragment),Ve(e,t.target,t.anchor),Ue()}ae(c)}class Je{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){Ke(this,1),this.$destroy=oe}$on(t,l){if(!He(l))return oe;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ft);const dt="/BA/assets/students-8101f280.json",ht={Explosion:"爆發",Pierce:"貫穿",Mystic:"神秘",Sonic:"振動",Main:"前排",Support:"後排",TacticRole:"作用",Position:"位置",BulletType:"攻屬",ArmorType:"防屬",DamageDealer:"輸出",Tanker:"坦克",Supporter:"輔助",Healer:"治療",Vehicle:"T.S.",Back:"遠距",Front:"近距",Middle:"中距",LightArmor:"輕甲",HeavyArmor:"重甲",Unarmed:"特殊",ElasticArmor:"彈力",Gehenna:"格黑娜",Millennium:"千年",Trinity:"三一",Abydos:"阿拜多斯",Shanhaijing:"山海經",Hyakkiyako:"百鬼夜行",RedWinter:"赤冬",Valkyrie:"女武神",ETC:"?",SRT:"SRT",Arius:"奧利斯"},_t={IMG_FOLDER:"https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/"};function H(e=""){return ht[e]||e}function Ne(e){let t,l,n=H(e[2].BulletType)[0]+"",i,o,s,h,c,f=H(e[2].ArmorType)[0]+"",_,b,p;return{c(){t=w("div"),l=w("div"),i=I(n),h=P(),c=w("div"),_=I(f),u(l,"class",o="icon icon-"+e[2].BulletType+" svelte-dcnyjt"),C(l,"--background-image","url('"+e[3]+"/ui/Type_Attack_s.png')"),u(l,"title",s=e[2].BulletType),u(c,"class",b="icon icon-"+e[2].ArmorType+" svelte-dcnyjt"),C(c,"--background-image","url('"+e[3]+"/ui/Type_Defense_s.png')"),u(c,"title",p=e[2].ArmorType),u(t,"class","icons svelte-dcnyjt")},m(a,r){D(a,t,r),d(t,l),d(l,i),d(t,h),d(t,c),d(c,_)},p(a,r){r&4&&n!==(n=H(a[2].BulletType)[0]+"")&&K(i,n),r&4&&o!==(o="icon icon-"+a[2].BulletType+" svelte-dcnyjt")&&u(l,"class",o),r&4&&s!==(s=a[2].BulletType)&&u(l,"title",s),r&4&&f!==(f=H(a[2].ArmorType)[0]+"")&&K(_,f),r&4&&b!==(b="icon icon-"+a[2].ArmorType+" svelte-dcnyjt")&&u(c,"class",b),r&4&&p!==(p=a[2].ArmorType)&&u(c,"title",p)},d(a){a&&z(t)}}}function Pe(e){let t,l,n,i,o,s,h=e[2].Name_tw+"",c,f,_,b,p=e[2].PathName+"",a,r,g,v,M,y,m=e[2].Name_jp+"",B,$;return{c(){t=w("div"),l=w("div"),n=w("div"),s=P(),c=I(h),f=P(),_=w("div"),b=w("a"),a=I(p),g=P(),v=w("br"),M=P(),y=w("a"),B=I(m),u(n,"class",i="icon icon-"+e[2].TacticRole+" icon-role svelte-dcnyjt"),C(n,"background-image","url('"+e[3]+"/ui/Role_"+e[2].TacticRole+".png')"),u(n,"title",o=e[2].TacticRole),u(l,"class","name-inner svelte-dcnyjt"),u(b,"href",r="https://schale.gg/?chara="+e[2].PathName),u(b,"target","schale.gg"),u(b,"class","svelte-dcnyjt"),u(y,"href",$="https://bluearchive.wikiru.jp/?"+e[2].Name_jp+"#Profile"),u(y,"target","wikiru"),u(y,"class","svelte-dcnyjt"),u(_,"class","tip svelte-dcnyjt"),u(t,"class","name svelte-dcnyjt")},m(N,j){D(N,t,j),d(t,l),d(l,n),d(l,s),d(l,c),d(t,f),d(t,_),d(_,b),d(b,a),d(_,g),d(_,v),d(_,M),d(_,y),d(y,B)},p(N,j){j&4&&i!==(i="icon icon-"+N[2].TacticRole+" icon-role svelte-dcnyjt")&&u(n,"class",i),j&4&&C(n,"background-image","url('"+N[3]+"/ui/Role_"+N[2].TacticRole+".png')"),j&4&&o!==(o=N[2].TacticRole)&&u(n,"title",o),j&4&&h!==(h=N[2].Name_tw+"")&&K(c,h),j&4&&p!==(p=N[2].PathName+"")&&K(a,p),j&4&&r!==(r="https://schale.gg/?chara="+N[2].PathName)&&u(b,"href",r),j&4&&m!==(m=N[2].Name_jp+"")&&K(B,m),j&4&&$!==($="https://bluearchive.wikiru.jp/?"+N[2].Name_jp+"#Profile")&&u(y,"href",$)},d(N){N&&z(t)}}}function pt(e){let t,l,n,i,o,s,h,c,f,_,b,p,a=e[0]&&Ne(e),r=e[1]>60&&Pe(e);return{c(){t=w("div"),l=w("img"),o=P(),a&&a.c(),s=P(),r&&r.c(),u(l,"class","avatar svelte-dcnyjt"),Be(l.src,n=e[3]+"student/collection/"+e[2].CollectionTexture+".webp")||u(l,"src",n),u(l,"loading","lazy"),u(l,"alt",i=e[2].Name_tw),u(t,"class","student svelte-dcnyjt"),u(t,"data-name",h=e[2].Name_tw),u(t,"data-school",c=e[2].School),u(t,"data-position",f=e[2].Position),u(t,"data-armortype",_=e[2].ArmorType),u(t,"data-bullettype",b=e[2].BulletType),u(t,"data-tacticrole",p=e[2].TacticRole)},m(g,v){D(g,t,v),d(t,l),d(t,o),a&&a.m(t,null),d(t,s),r&&r.m(t,null)},p(g,[v]){v&4&&!Be(l.src,n=g[3]+"student/collection/"+g[2].CollectionTexture+".webp")&&u(l,"src",n),v&4&&i!==(i=g[2].Name_tw)&&u(l,"alt",i),g[0]?a?a.p(g,v):(a=Ne(g),a.c(),a.m(t,s)):a&&(a.d(1),a=null),g[1]>60?r?r.p(g,v):(r=Pe(g),r.c(),r.m(t,null)):r&&(r.d(1),r=null),v&4&&h!==(h=g[2].Name_tw)&&u(t,"data-name",h),v&4&&c!==(c=g[2].School)&&u(t,"data-school",c),v&4&&f!==(f=g[2].Position)&&u(t,"data-position",f),v&4&&_!==(_=g[2].ArmorType)&&u(t,"data-armortype",_),v&4&&b!==(b=g[2].BulletType)&&u(t,"data-bullettype",b),v&4&&p!==(p=g[2].TacticRole)&&u(t,"data-tacticrole",p)},i:oe,o:oe,d(g){g&&z(t),a&&a.d(),r&&r.d()}}}function mt(e,t,l){let{show_icons:n=!1}=t,{avatar_size:i}=t,{stu:o={}}=t;const s=_t.IMG_FOLDER;return e.$$set=h=>{"show_icons"in h&&l(0,n=h.show_icons),"avatar_size"in h&&l(1,i=h.avatar_size),"stu"in h&&l(2,o=h.stu)},[n,i,o,s]}class gt extends Je{constructor(t){super(),We(this,t,mt,pt,Ge,{show_icons:0,avatar_size:1,stu:2})}}const{Boolean:Qe}=et;function Re(e,t,l){const n=e.slice();return n[22]=t[l],n[24]=l,n}function Ee(e,t,l){const n=e.slice();return n[25]=t[l],n}function qe(e,t,l){const n=e.slice();return n[28]=t[l],n}function Me(e,t,l){const n=e.slice();return n[31]=t[l],n}function $e(e,t,l){const n=e.slice();return n[34]=t[l],n[35]=t,n[36]=l,n}function Le(e){let t,l,n,i,o,s,h=H(e[34].label)+"",c,f,_;function b(){e[9].call(n,e[35],e[36])}return{c(){t=w("div"),l=w("label"),n=w("input"),i=P(),o=w("i"),s=P(),c=I(h),u(n,"type","checkbox"),u(o,"class","label-icon"),C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},m(p,a){D(p,t,a),d(t,l),d(l,n),n.checked=e[34].value,d(l,i),d(l,o),d(l,s),d(l,c),f||(_=ee(n,"change",b),f=!0)},p(p,a){e=p,a[0]&2&&(n.checked=e[34].value),a[0]&2&&h!==(h=H(e[34].label)+"")&&K(c,h),a[0]&2&&C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},d(p){p&&z(t),f=!1,_()}}}function Oe(e){let t,l,n=H(e[31].prop)+"",i,o,s,h,c,f,_,b,p=U(e[31].filters),a=[];for(let r=0;r<p.length;r+=1)a[r]=Le($e(e,p,r));return{c(){t=w("fieldset"),l=w("legend"),i=I(n),o=P(),s=w("details"),h=w("summary"),c=P(),f=w("div");for(let r=0;r<a.length;r+=1)a[r].c();u(h,"class","svelte-1motxg"),u(s,"class","filter-details svelte-1motxg"),s.open=_=e[31].filters.length<8,u(t,"class",b="filter-cate__"+e[31].prop+" svelte-1motxg")},m(r,g){D(r,t,g),d(t,l),d(l,i),d(t,o),d(t,s),d(s,h),d(s,c),d(s,f);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(f,null)},p(r,g){if(g[0]&2&&n!==(n=H(r[31].prop)+"")&&K(i,n),g[0]&2){p=U(r[31].filters);let v;for(v=0;v<p.length;v+=1){const M=$e(r,p,v);a[v]?a[v].p(M,g):(a[v]=Le(M),a[v].c(),a[v].m(f,null))}for(;v<a.length;v+=1)a[v].d(1);a.length=p.length}g[0]&2&&_!==(_=r[31].filters.length<8)&&(s.open=_),g[0]&2&&b!==(b="filter-cate__"+r[31].prop+" svelte-1motxg")&&u(t,"class",b)},d(r){r&&z(t),ce(a,r)}}}function ze(e){var M;let t,l=H((M=e[25][0])==null?void 0:M.SquadType)+"",n,i,o,s=H(e[6][e[24]])+"",h,c,f,_=[],b=new Map,p,a,r,g=U(e[25]);const v=y=>y[28].PathName;for(let y=0;y<g.length;y+=1){let m=qe(e,g,y),B=v(m);b.set(B,_[y]=De(B,m))}return{c(){var y,m;t=w("h3"),n=I(l),i=P(),o=w("h3"),h=I(s),c=P(),f=w("div");for(let B=0;B<_.length;B+=1)_[B].c();p=P(),u(t,"class","th"),C(t,"grid-area",((y=e[25][0])==null?void 0:y.SquadType)+"-title"),u(o,"class","th"),C(o,"grid-area",e[6][e[24]]+"-title"),u(f,"class","cell"),u(f,"data-squad",a=(m=e[25][0])==null?void 0:m.SquadType),u(f,"data-bullet",e[6][e[24]])},m(y,m){D(y,t,m),d(t,n),D(y,i,m),D(y,o,m),d(o,h),D(y,c,m),D(y,f,m);for(let B=0;B<_.length;B+=1)_[B]&&_[B].m(f,null);d(f,p),r=!0},p(y,m){var B,$,N;(!r||m[0]&4)&&l!==(l=H((B=y[25][0])==null?void 0:B.SquadType)+"")&&K(n,l),(!r||m[0]&4)&&C(t,"grid-area",(($=y[25][0])==null?void 0:$.SquadType)+"-title"),m[0]&52&&(g=U(y[25]),fe(),_=rt(_,m,v,1,y,g,b,f,st,De,p,qe),de()),(!r||m[0]&4&&a!==(a=(N=y[25][0])==null?void 0:N.SquadType))&&u(f,"data-squad",a)},i(y){if(!r){for(let m=0;m<g.length;m+=1)F(_[m]);r=!0}},o(y){for(let m=0;m<_.length;m+=1)W(_[m]);r=!1},d(y){y&&(z(t),z(i),z(o),z(c),z(f));for(let m=0;m<_.length;m+=1)_[m].d()}}}function De(e,t){let l,n,i;return n=new gt({props:{show_icons:t[5],avatar_size:t[4],stu:t[28]}}),{key:e,first:null,c(){l=be(),ut(n.$$.fragment),this.first=l},m(o,s){D(o,l,s),Ve(n,o,s),i=!0},p(o,s){t=o;const h={};s[0]&32&&(h.show_icons=t[5]),s[0]&16&&(h.avatar_size=t[4]),s[0]&4&&(h.stu=t[28]),n.$set(h)},i(o){i||(F(n.$$.fragment,o),i=!0)},o(o){W(n.$$.fragment,o),i=!1},d(o){o&&z(l),Ke(n,o)}}}function Ce(e){let t,l,n=e[25].length&&ze(e);return{c(){n&&n.c(),t=be()},m(i,o){n&&n.m(i,o),D(i,t,o),l=!0},p(i,o){i[25].length?n?(n.p(i,o),o[0]&4&&F(n,1)):(n=ze(i),n.c(),F(n,1),n.m(t.parentNode,t)):n&&(fe(),W(n,1,1,()=>{n=null}),de())},i(i){l||(F(n),l=!0)},o(i){W(n),l=!1},d(i){i&&z(t),n&&n.d(i)}}}function Ie(e){let t,l,n=U(e[22]),i=[];for(let s=0;s<n.length;s+=1)i[s]=Ce(Ee(e,n,s));const o=s=>W(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=be()},m(s,h){for(let c=0;c<i.length;c+=1)i[c]&&i[c].m(s,h);D(s,t,h),l=!0},p(s,h){if(h[0]&116){n=U(s[22]);let c;for(c=0;c<n.length;c+=1){const f=Ee(s,n,c);i[c]?(i[c].p(f,h),F(i[c],1)):(i[c]=Ce(f),i[c].c(),F(i[c],1),i[c].m(t.parentNode,t))}for(fe(),c=n.length;c<i.length;c+=1)o(c);de()}},i(s){if(!l){for(let h=0;h<n.length;h+=1)F(i[h]);l=!0}},o(s){i=i.filter(Qe);for(let h=0;h<i.length;h+=1)W(i[h]);l=!1},d(s){s&&z(t),ce(i,s)}}}function vt(e){let t,l,n,i,o,s,h,c,f,_,b,p,a,r,g,v,M,y,m,B,$,N,j,E,T,A,L,ne,G,ke,V,Te,he,J,_e,Se,Z=U(e[1]),O=[];for(let k=0;k<Z.length;k+=1)O[k]=Oe(Me(e,Z,k));let Q=U(e[2]),R=[];for(let k=0;k<Q.length;k+=1)R[k]=Ie(Re(e,Q,k));const Xe=k=>W(R[k],1,1,()=>{R[k]=null});return{c(){t=w("main"),l=w("div"),n=P(),i=w("details"),o=w("summary"),o.textContent="Filters",s=P(),h=w("form");for(let k=0;k<O.length;k+=1)O[k].c();c=P(),f=w("div"),_=w("fieldset"),b=w("legend"),b.textContent="Name",p=P(),a=w("input"),r=P(),g=w("fieldset"),v=w("legend"),v.textContent="圖片尺寸",M=P(),y=w("div"),m=w("input"),B=P(),$=I(e[4]),N=I("px"),j=P(),E=w("div"),T=w("label"),A=w("input"),L=I(" 顯示圖示"),ne=P(),G=w("input"),ke=P(),V=w("div");for(let k=0;k<R.length;k+=1)R[k].c();Te=P(),he=w("footer"),he.innerHTML='<hr/> <h1>Blue Archive students filter</h1> <hr/> <details open=""><summary>url para:</summary> <ul><li>`name=xxx`: name filter</li> <li>`size=96`: image size</li> <li>`icon=1`: show type icon</li></ul></details> <hr/>\n\n    data &amp; image come from <a href="https://github.com/lonqie/SchaleDB">https://github.com/lonqie/SchaleDB</a>',u(l,"class","dynamic-style"),u(a,"type","search"),u(a,"placeholder","name"),a.autofocus=!0,u(a,"accesskey","q"),u(m,"type","range"),u(m,"step","12"),u(m,"min","48"),u(m,"max","96"),C(y,"display","inline-flex"),u(A,"type","checkbox"),u(G,"type","reset"),G.value="Reset",C(E,"display","flex"),C(E,"justify-content","space-between"),u(h,"class","filter-form"),u(i,"class","filters"),i.open=!0,u(V,"class","table"),C(V,"--avatar-size",e[4]),u(V,"data-name",e[0])},m(k,q){D(k,t,q),d(t,l),e[8](l),d(t,n),d(t,i),d(i,o),d(i,s),d(i,h);for(let S=0;S<O.length;S+=1)O[S]&&O[S].m(h,null);d(h,c),d(h,f),d(f,_),d(_,b),d(_,p),d(_,a),re(a,e[0]),d(f,r),d(f,g),d(g,v),d(g,M),d(g,y),d(y,m),re(m,e[4]),d(y,B),d(y,$),d(y,N),d(f,j),d(f,E),d(E,T),d(T,A),A.checked=e[5],d(T,L),d(E,ne),d(E,G),d(t,ke),d(t,V);for(let S=0;S<R.length;S+=1)R[S]&&R[S].m(V,null);d(t,Te),d(t,he),J=!0,a.focus(),_e||(Se=[ee(a,"input",e[10]),ee(m,"change",e[11]),ee(m,"input",e[11]),ee(A,"change",e[12]),ee(h,"reset",e[7])],_e=!0)},p(k,q){if(q[0]&2){Z=U(k[1]);let S;for(S=0;S<Z.length;S+=1){const ie=Me(k,Z,S);O[S]?O[S].p(ie,q):(O[S]=Oe(ie),O[S].c(),O[S].m(h,c))}for(;S<O.length;S+=1)O[S].d(1);O.length=Z.length}if(q[0]&1&&a.value!==k[0]&&re(a,k[0]),q[0]&16&&re(m,k[4]),(!J||q[0]&16)&&K($,k[4]),q[0]&32&&(A.checked=k[5]),q[0]&116){Q=U(k[2]);let S;for(S=0;S<Q.length;S+=1){const ie=Re(k,Q,S);R[S]?(R[S].p(ie,q),F(R[S],1)):(R[S]=Ie(ie),R[S].c(),F(R[S],1),R[S].m(V,null))}for(fe(),S=Q.length;S<R.length;S+=1)Xe(S);de()}(!J||q[0]&16)&&C(V,"--avatar-size",k[4]),(!J||q[0]&1)&&u(V,"data-name",k[0])},i(k){if(!J){for(let q=0;q<Q.length;q+=1)F(R[q]);J=!0}},o(k){R=R.filter(Qe);for(let q=0;q<R.length;q+=1)W(R[q]);J=!1},d(k){k&&z(t),e[8](null),ce(O,k),ce(R,k),_e=!1,Y(Se)}}}function yt(e,t,l){let n=["School","TacticRole","Position","BulletType","ArmorType"],i=["Explosion","Pierce","Mystic","Sonic"],o=[],s,h=new URLSearchParams(location.search),c=h.get("name"),f=[],_={name:"",checkbox:""},b=+h.get("size")||96,p=!!+h.get("icon");v();function a(){if(!s)return;let T=_.name+_.checkbox;l(3,s.innerHTML=T?`<style>${T}</style>`:"",s)}function r(){let T=c==null?void 0:c.trim();_.name=T?`.student.student.student.student:not([data-name*="${T}"]) { display: none; }`:"",a()}function g(){let T=f.map(L=>L.filters.filter(G=>G.value).length?L.filters.filter(G=>!G.value).map(G=>`[data-${L.prop.toLowerCase()}="${G.label}"]`):void 0).flat().filter(Boolean),A=T.length?T.map(L=>`.student${L}`).join()+"{ display: none !important; }":"";_.checkbox=A,a()}async function v(){let T=await fetch(dt).then(A=>A.json());y(T),M(T)}function M(T){l(1,f=n.map(A=>({prop:A,filters:[...new Set(T.map(L=>L[A]))].map(L=>({label:L,value:!1}))})))}function y(T){l(2,o=[]),T.forEach(A=>{let L=i.findIndex(ne=>ne===A.BulletType);o[L]||l(2,o[L]=[[],[]],o),o[L][A.SquadType==="Main"?0:1].push(A)})}function m(){l(0,c=""),f.forEach(T=>{T.filters.forEach(A=>{A.value=!1})}),l(1,f)}function B(T){ge[T?"unshift":"push"](()=>{s=T,l(3,s)})}function $(T,A){T[A].value=this.checked,l(1,f)}function N(){c=this.value,l(0,c)}function j(){b=tt(this.value),l(4,b)}function E(){p=this.checked,l(5,p)}return e.$$.update=()=>{e.$$.dirty[0]&1&&r(),e.$$.dirty[0]&2&&g()},[c,f,o,s,b,p,i,m,B,$,N,j,E]}class bt extends Je{constructor(t){super(),We(this,t,yt,vt,Ge,{},null,[-1,-1])}}new bt({target:document.getElementById("app")});
