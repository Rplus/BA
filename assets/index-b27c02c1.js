var Ye=Object.defineProperty;var Ze=(e,t,l)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var pe=(e,t,l)=>(Ze(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function l(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=l(i);fetch(i.href,a)}})();function oe(){}function Fe(e){return e()}function je(){return Object.create(null)}function Y(e){e.forEach(Fe)}function He(e){return typeof e=="function"}function Ge(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let se;function Be(e,t){return e===t?!0:(se||(se=document.createElement("a")),se.href=t,e===se.href)}function xe(e){return Object.keys(e).length===0}const et=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function h(e,t){e.appendChild(t)}function D(e,t,l){e.insertBefore(t,l||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function ce(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function b(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function P(){return I(" ")}function be(){return I("")}function ee(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function f(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function tt(e){return e===""?null:+e}function lt(e){return Array.from(e.childNodes)}function K(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}function C(e,t,l,n){l==null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}let we;function ae(e){we=e}const te=[],ge=[];let le=[];const Ae=[],nt=Promise.resolve();let ve=!1;function it(){ve||(ve=!0,nt.then(Ue))}function ye(e){le.push(e)}const me=new Set;let x=0;function Ue(){if(x!==0)return;const e=we;do{try{for(;x<te.length;){const t=te[x];x++,ae(t),at(t.$$)}}catch(t){throw te.length=0,x=0,t}for(ae(null),te.length=0,x=0;ge.length;)ge.pop()();for(let t=0;t<le.length;t+=1){const l=le[t];me.has(l)||(me.add(l),l())}le.length=0}while(te.length);for(;Ae.length;)Ae.pop()();ve=!1,me.clear(),ae(e)}function at(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ye)}}function ot(e){const t=[],l=[];le.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),le=t}const ue=new Set;let X;function fe(){X={r:0,c:[],p:X}}function de(){X.r||Y(X.c),X=X.p}function F(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function W(e,t,l,n){if(e&&e.o){if(ue.has(e))return;ue.add(e),X.c.push(()=>{ue.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function U(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function st(e,t){W(e,1,1,()=>{t.delete(e.key)})}function rt(e,t,l,n,i,a,o,d,r,c,p,m){let _=e.length,s=a.length,u=_;const y={};for(;u--;)y[e[u].key]=u;const j=[],z=new Map,v=new Map,g=[];for(u=s;u--;){const S=m(i,a,u),E=l(S);let k=o.get(E);k?n&&g.push(()=>k.p(S,t)):(k=c(E,S),k.c()),z.set(E,j[u]=k),E in y&&v.set(E,Math.abs(u-y[E]))}const B=new Set,M=new Set;function N(S){F(S,1),S.m(d,p),o.set(S.key,S),p=S.first,s--}for(;_&&s;){const S=j[s-1],E=e[_-1],k=S.key,A=E.key;S===E?(p=S.first,_--,s--):z.has(A)?!o.has(k)||B.has(k)?N(S):M.has(A)?_--:v.get(k)>v.get(A)?(M.add(k),N(S)):(B.add(A),_--):(r(E,o),_--)}for(;_--;){const S=e[_];z.has(S.key)||r(S,o)}for(;s;)N(j[s-1]);return Y(g),j}function ut(e){e&&e.c()}function Ve(e,t,l){const{fragment:n,after_update:i}=e.$$;n&&n.m(t,l),ye(()=>{const a=e.$$.on_mount.map(Fe).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...a):Y(a),e.$$.on_mount=[]}),i.forEach(ye)}function Ke(e,t){const l=e.$$;l.fragment!==null&&(ot(l.after_update),Y(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function ct(e,t){e.$$.dirty[0]===-1&&(te.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function We(e,t,l,n,i,a,o,d=[-1]){const r=we;ae(e);const c=e.$$={fragment:null,ctx:[],props:a,update:oe,not_equal:i,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:je(),dirty:d,skip_bound:!1,root:t.target||r.$$.root};o&&o(c.root);let p=!1;if(c.ctx=l?l(e,t.props||{},(m,_,...s)=>{const u=s.length?s[0]:_;return c.ctx&&i(c.ctx[m],c.ctx[m]=u)&&(!c.skip_bound&&c.bound[m]&&c.bound[m](u),p&&ct(e,m)),_}):[],c.update(),p=!0,Y(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const m=lt(t.target);c.fragment&&c.fragment.l(m),m.forEach(O)}else c.fragment&&c.fragment.c();t.intro&&F(e.$$.fragment),Ve(e,t.target,t.anchor),Ue()}ae(r)}class Je{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){Ke(this,1),this.$destroy=oe}$on(t,l){if(!He(l))return oe;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ft);const dt="/BA/assets/students-8101f280.json",ht={Explosion:"爆發",Pierce:"貫穿",Mystic:"神秘",Sonic:"振動",Main:"前排",Support:"後排",TacticRole:"作用",Position:"位置",BulletType:"攻屬",ArmorType:"防屬",DamageDealer:"輸出",Tanker:"坦克",Supporter:"輔助",Healer:"治療",Vehicle:"T.S.",Back:"遠距",Front:"近距",Middle:"中距",LightArmor:"輕甲",HeavyArmor:"重甲",Unarmed:"特殊",ElasticArmor:"彈力",Gehenna:"格黑娜",Millennium:"千年",Trinity:"三一",Abydos:"阿拜多斯",Shanhaijing:"山海經",Hyakkiyako:"百鬼夜行",RedWinter:"赤冬",Valkyrie:"女武神",ETC:"?",SRT:"SRT",Arius:"奧利斯"},_t={IMG_FOLDER:"https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/"};function H(e=""){return ht[e]||e}function Ne(e){let t,l,n=H(e[2].BulletType)[0]+"",i,a,o,d,r,c=H(e[2].ArmorType)[0]+"",p,m,_;return{c(){t=b("div"),l=b("div"),i=I(n),d=P(),r=b("div"),p=I(c),f(l,"class",a="icon icon-"+e[2].BulletType+" svelte-dcnyjt"),C(l,"--background-image","url('"+e[3]+"/ui/Type_Attack_s.png')"),f(l,"title",o=e[2].BulletType),f(r,"class",m="icon icon-"+e[2].ArmorType+" svelte-dcnyjt"),C(r,"--background-image","url('"+e[3]+"/ui/Type_Defense_s.png')"),f(r,"title",_=e[2].ArmorType),f(t,"class","icons svelte-dcnyjt")},m(s,u){D(s,t,u),h(t,l),h(l,i),h(t,d),h(t,r),h(r,p)},p(s,u){u&4&&n!==(n=H(s[2].BulletType)[0]+"")&&K(i,n),u&4&&a!==(a="icon icon-"+s[2].BulletType+" svelte-dcnyjt")&&f(l,"class",a),u&4&&o!==(o=s[2].BulletType)&&f(l,"title",o),u&4&&c!==(c=H(s[2].ArmorType)[0]+"")&&K(p,c),u&4&&m!==(m="icon icon-"+s[2].ArmorType+" svelte-dcnyjt")&&f(r,"class",m),u&4&&_!==(_=s[2].ArmorType)&&f(r,"title",_)},d(s){s&&O(t)}}}function Pe(e){let t,l,n,i,a,o,d=e[2].Name_tw+"",r,c,p,m,_=e[2].PathName+"",s,u,y,j,z,v,g=e[2].Name_jp+"",B,M;return{c(){t=b("div"),l=b("div"),n=b("div"),o=P(),r=I(d),c=P(),p=b("div"),m=b("a"),s=I(_),y=P(),j=b("br"),z=P(),v=b("a"),B=I(g),f(n,"class",i="icon icon-"+e[2].TacticRole+" icon-role svelte-dcnyjt"),C(n,"background-image","url('"+e[3]+"/ui/Role_"+e[2].TacticRole+".png')"),f(n,"title",a=e[2].TacticRole),f(l,"class","name-inner svelte-dcnyjt"),f(m,"href",u="https://schale.gg/?chara="+e[2].PathName),f(m,"target","schale.gg"),f(m,"class","svelte-dcnyjt"),f(v,"href",M="https://bluearchive.wikiru.jp/?"+e[2].Name_jp+"#Profile"),f(v,"target","wikiru"),f(v,"class","svelte-dcnyjt"),f(p,"class","tip svelte-dcnyjt"),f(t,"class","name svelte-dcnyjt")},m(N,S){D(N,t,S),h(t,l),h(l,n),h(l,o),h(l,r),h(t,c),h(t,p),h(p,m),h(m,s),h(p,y),h(p,j),h(p,z),h(p,v),h(v,B)},p(N,S){S&4&&i!==(i="icon icon-"+N[2].TacticRole+" icon-role svelte-dcnyjt")&&f(n,"class",i),S&4&&C(n,"background-image","url('"+N[3]+"/ui/Role_"+N[2].TacticRole+".png')"),S&4&&a!==(a=N[2].TacticRole)&&f(n,"title",a),S&4&&d!==(d=N[2].Name_tw+"")&&K(r,d),S&4&&_!==(_=N[2].PathName+"")&&K(s,_),S&4&&u!==(u="https://schale.gg/?chara="+N[2].PathName)&&f(m,"href",u),S&4&&g!==(g=N[2].Name_jp+"")&&K(B,g),S&4&&M!==(M="https://bluearchive.wikiru.jp/?"+N[2].Name_jp+"#Profile")&&f(v,"href",M)},d(N){N&&O(t)}}}function pt(e){let t,l,n,i,a,o,d,r,c,p,m,_,s=e[0]&&Ne(e),u=e[1]>60&&Pe(e);return{c(){t=b("div"),l=b("img"),a=P(),s&&s.c(),o=P(),u&&u.c(),f(l,"class","avatar svelte-dcnyjt"),Be(l.src,n=e[3]+"student/collection/"+e[2].CollectionTexture+".webp")||f(l,"src",n),f(l,"loading","lazy"),f(l,"alt",i=e[2].Name_tw),f(t,"class","student svelte-dcnyjt"),f(t,"data-name",d=e[2].Name_tw),f(t,"data-school",r=e[2].School),f(t,"data-position",c=e[2].Position),f(t,"data-armortype",p=e[2].ArmorType),f(t,"data-bullettype",m=e[2].BulletType),f(t,"data-tacticrole",_=e[2].TacticRole)},m(y,j){D(y,t,j),h(t,l),h(t,a),s&&s.m(t,null),h(t,o),u&&u.m(t,null)},p(y,[j]){j&4&&!Be(l.src,n=y[3]+"student/collection/"+y[2].CollectionTexture+".webp")&&f(l,"src",n),j&4&&i!==(i=y[2].Name_tw)&&f(l,"alt",i),y[0]?s?s.p(y,j):(s=Ne(y),s.c(),s.m(t,o)):s&&(s.d(1),s=null),y[1]>60?u?u.p(y,j):(u=Pe(y),u.c(),u.m(t,null)):u&&(u.d(1),u=null),j&4&&d!==(d=y[2].Name_tw)&&f(t,"data-name",d),j&4&&r!==(r=y[2].School)&&f(t,"data-school",r),j&4&&c!==(c=y[2].Position)&&f(t,"data-position",c),j&4&&p!==(p=y[2].ArmorType)&&f(t,"data-armortype",p),j&4&&m!==(m=y[2].BulletType)&&f(t,"data-bullettype",m),j&4&&_!==(_=y[2].TacticRole)&&f(t,"data-tacticrole",_)},i:oe,o:oe,d(y){y&&O(t),s&&s.d(),u&&u.d()}}}function mt(e,t,l){let{show_icons:n=!1}=t,{avatar_size:i}=t,{stu:a={}}=t;const o=_t.IMG_FOLDER;return e.$$set=d=>{"show_icons"in d&&l(0,n=d.show_icons),"avatar_size"in d&&l(1,i=d.avatar_size),"stu"in d&&l(2,a=d.stu)},[n,i,a,o]}class gt extends Je{constructor(t){super(),We(this,t,mt,pt,Ge,{show_icons:0,avatar_size:1,stu:2})}}const{Boolean:Qe}=et;function Re(e,t,l){const n=e.slice();return n[22]=t[l],n[24]=l,n}function Ee(e,t,l){const n=e.slice();return n[25]=t[l],n}function qe(e,t,l){const n=e.slice();return n[28]=t[l],n}function Me(e,t,l){const n=e.slice();return n[31]=t[l],n}function $e(e,t,l){const n=e.slice();return n[34]=t[l],n[35]=t,n[36]=l,n}function Le(e){let t,l,n,i,a,o,d=H(e[34].label)+"",r,c,p;function m(){e[9].call(n,e[35],e[36])}return{c(){t=b("div"),l=b("label"),n=b("input"),i=P(),a=b("i"),o=P(),r=I(d),f(n,"type","checkbox"),f(a,"class","label-icon"),C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},m(_,s){D(_,t,s),h(t,l),h(l,n),n.checked=e[34].value,h(l,i),h(l,a),h(l,o),h(l,r),c||(p=ee(n,"change",m),c=!0)},p(_,s){e=_,s[0]&2&&(n.checked=e[34].value),s[0]&2&&d!==(d=H(e[34].label)+"")&&K(r,d),s[0]&2&&C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},d(_){_&&O(t),c=!1,p()}}}function Oe(e){let t,l,n=H(e[31].prop)+"",i,a,o,d,r,c,p=U(e[31].filters),m=[];for(let _=0;_<p.length;_+=1)m[_]=Le($e(e,p,_));return{c(){t=b("fieldset"),l=b("legend"),i=I(n),a=P(),o=b("details"),d=b("div");for(let _=0;_<m.length;_+=1)m[_].c();f(o,"class","filter-details"),o.open=r=e[31].filters.length<8,f(t,"class",c="filter-cate__"+e[31].prop)},m(_,s){D(_,t,s),h(t,l),h(l,i),h(t,a),h(t,o),h(o,d);for(let u=0;u<m.length;u+=1)m[u]&&m[u].m(d,null)},p(_,s){if(s[0]&2&&n!==(n=H(_[31].prop)+"")&&K(i,n),s[0]&2){p=U(_[31].filters);let u;for(u=0;u<p.length;u+=1){const y=$e(_,p,u);m[u]?m[u].p(y,s):(m[u]=Le(y),m[u].c(),m[u].m(d,null))}for(;u<m.length;u+=1)m[u].d(1);m.length=p.length}s[0]&2&&r!==(r=_[31].filters.length<8)&&(o.open=r),s[0]&2&&c!==(c="filter-cate__"+_[31].prop)&&f(t,"class",c)},d(_){_&&O(t),ce(m,_)}}}function ze(e){var z;let t,l=H((z=e[25][0])==null?void 0:z.SquadType)+"",n,i,a,o=H(e[6][e[24]])+"",d,r,c,p=[],m=new Map,_,s,u,y=U(e[25]);const j=v=>v[28].PathName;for(let v=0;v<y.length;v+=1){let g=qe(e,y,v),B=j(g);m.set(B,p[v]=De(B,g))}return{c(){var v,g;t=b("h3"),n=I(l),i=P(),a=b("h3"),d=I(o),r=P(),c=b("div");for(let B=0;B<p.length;B+=1)p[B].c();_=P(),f(t,"class","th"),C(t,"grid-area",((v=e[25][0])==null?void 0:v.SquadType)+"-title"),f(a,"class","th"),C(a,"grid-area",e[6][e[24]]+"-title"),f(c,"class","cell"),f(c,"data-squad",s=(g=e[25][0])==null?void 0:g.SquadType),f(c,"data-bullet",e[6][e[24]])},m(v,g){D(v,t,g),h(t,n),D(v,i,g),D(v,a,g),h(a,d),D(v,r,g),D(v,c,g);for(let B=0;B<p.length;B+=1)p[B]&&p[B].m(c,null);h(c,_),u=!0},p(v,g){var B,M,N;(!u||g[0]&4)&&l!==(l=H((B=v[25][0])==null?void 0:B.SquadType)+"")&&K(n,l),(!u||g[0]&4)&&C(t,"grid-area",((M=v[25][0])==null?void 0:M.SquadType)+"-title"),g[0]&52&&(y=U(v[25]),fe(),p=rt(p,g,j,1,v,y,m,c,st,De,_,qe),de()),(!u||g[0]&4&&s!==(s=(N=v[25][0])==null?void 0:N.SquadType))&&f(c,"data-squad",s)},i(v){if(!u){for(let g=0;g<y.length;g+=1)F(p[g]);u=!0}},o(v){for(let g=0;g<p.length;g+=1)W(p[g]);u=!1},d(v){v&&(O(t),O(i),O(a),O(r),O(c));for(let g=0;g<p.length;g+=1)p[g].d()}}}function De(e,t){let l,n,i;return n=new gt({props:{show_icons:t[5],avatar_size:t[4],stu:t[28]}}),{key:e,first:null,c(){l=be(),ut(n.$$.fragment),this.first=l},m(a,o){D(a,l,o),Ve(n,a,o),i=!0},p(a,o){t=a;const d={};o[0]&32&&(d.show_icons=t[5]),o[0]&16&&(d.avatar_size=t[4]),o[0]&4&&(d.stu=t[28]),n.$set(d)},i(a){i||(F(n.$$.fragment,a),i=!0)},o(a){W(n.$$.fragment,a),i=!1},d(a){a&&O(l),Ke(n,a)}}}function Ce(e){let t,l,n=e[25].length&&ze(e);return{c(){n&&n.c(),t=be()},m(i,a){n&&n.m(i,a),D(i,t,a),l=!0},p(i,a){i[25].length?n?(n.p(i,a),a[0]&4&&F(n,1)):(n=ze(i),n.c(),F(n,1),n.m(t.parentNode,t)):n&&(fe(),W(n,1,1,()=>{n=null}),de())},i(i){l||(F(n),l=!0)},o(i){W(n),l=!1},d(i){i&&O(t),n&&n.d(i)}}}function Ie(e){let t,l,n=U(e[22]),i=[];for(let o=0;o<n.length;o+=1)i[o]=Ce(Ee(e,n,o));const a=o=>W(i[o],1,1,()=>{i[o]=null});return{c(){for(let o=0;o<i.length;o+=1)i[o].c();t=be()},m(o,d){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(o,d);D(o,t,d),l=!0},p(o,d){if(d[0]&116){n=U(o[22]);let r;for(r=0;r<n.length;r+=1){const c=Ee(o,n,r);i[r]?(i[r].p(c,d),F(i[r],1)):(i[r]=Ce(c),i[r].c(),F(i[r],1),i[r].m(t.parentNode,t))}for(fe(),r=n.length;r<i.length;r+=1)a(r);de()}},i(o){if(!l){for(let d=0;d<n.length;d+=1)F(i[d]);l=!0}},o(o){i=i.filter(Qe);for(let d=0;d<i.length;d+=1)W(i[d]);l=!1},d(o){o&&O(t),ce(i,o)}}}function vt(e){let t,l,n,i,a,o,d,r,c,p,m,_,s,u,y,j,z,v,g,B,M,N,S,E,k,A,$,ne,G,ke,V,Te,he,J,_e,Se,Z=U(e[1]),L=[];for(let w=0;w<Z.length;w+=1)L[w]=Oe(Me(e,Z,w));let Q=U(e[2]),R=[];for(let w=0;w<Q.length;w+=1)R[w]=Ie(Re(e,Q,w));const Xe=w=>W(R[w],1,1,()=>{R[w]=null});return{c(){t=b("main"),l=b("div"),n=P(),i=b("details"),a=b("summary"),a.textContent="Filters",o=P(),d=b("form");for(let w=0;w<L.length;w+=1)L[w].c();r=P(),c=b("div"),p=b("fieldset"),m=b("legend"),m.textContent="Name",_=P(),s=b("input"),u=P(),y=b("fieldset"),j=b("legend"),j.textContent="圖片尺寸",z=P(),v=b("div"),g=b("input"),B=P(),M=I(e[4]),N=I("px"),S=P(),E=b("div"),k=b("label"),A=b("input"),$=I(" 顯示圖示"),ne=P(),G=b("input"),ke=P(),V=b("div");for(let w=0;w<R.length;w+=1)R[w].c();Te=P(),he=b("footer"),he.innerHTML='<hr/> <h1>Blue Archive students filter</h1> <hr/> <details open=""><summary>url para:</summary> <ul><li>`name=xxx`: name filter</li> <li>`size=96`: image size</li> <li>`icon=1`: show type icon</li></ul></details> <hr/>\n\n    data &amp; image come from <a href="https://github.com/lonqie/SchaleDB">https://github.com/lonqie/SchaleDB</a>',f(l,"class","dynamic-style"),f(s,"type","search"),f(s,"placeholder","name"),s.autofocus=!0,f(s,"accesskey","q"),f(g,"type","range"),f(g,"step","12"),f(g,"min","48"),f(g,"max","96"),C(v,"display","inline-flex"),f(A,"type","checkbox"),f(G,"type","reset"),G.value="Reset",C(E,"display","flex"),C(E,"justify-content","space-between"),f(d,"class","filter-form"),f(i,"class","filters"),i.open=!0,f(V,"class","table"),C(V,"--avatar-size",e[4]),f(V,"data-name",e[0])},m(w,q){D(w,t,q),h(t,l),e[8](l),h(t,n),h(t,i),h(i,a),h(i,o),h(i,d);for(let T=0;T<L.length;T+=1)L[T]&&L[T].m(d,null);h(d,r),h(d,c),h(c,p),h(p,m),h(p,_),h(p,s),re(s,e[0]),h(c,u),h(c,y),h(y,j),h(y,z),h(y,v),h(v,g),re(g,e[4]),h(v,B),h(v,M),h(v,N),h(c,S),h(c,E),h(E,k),h(k,A),A.checked=e[5],h(k,$),h(E,ne),h(E,G),h(t,ke),h(t,V);for(let T=0;T<R.length;T+=1)R[T]&&R[T].m(V,null);h(t,Te),h(t,he),J=!0,s.focus(),_e||(Se=[ee(s,"input",e[10]),ee(g,"change",e[11]),ee(g,"input",e[11]),ee(A,"change",e[12]),ee(d,"reset",e[7])],_e=!0)},p(w,q){if(q[0]&2){Z=U(w[1]);let T;for(T=0;T<Z.length;T+=1){const ie=Me(w,Z,T);L[T]?L[T].p(ie,q):(L[T]=Oe(ie),L[T].c(),L[T].m(d,r))}for(;T<L.length;T+=1)L[T].d(1);L.length=Z.length}if(q[0]&1&&s.value!==w[0]&&re(s,w[0]),q[0]&16&&re(g,w[4]),(!J||q[0]&16)&&K(M,w[4]),q[0]&32&&(A.checked=w[5]),q[0]&116){Q=U(w[2]);let T;for(T=0;T<Q.length;T+=1){const ie=Re(w,Q,T);R[T]?(R[T].p(ie,q),F(R[T],1)):(R[T]=Ie(ie),R[T].c(),F(R[T],1),R[T].m(V,null))}for(fe(),T=Q.length;T<R.length;T+=1)Xe(T);de()}(!J||q[0]&16)&&C(V,"--avatar-size",w[4]),(!J||q[0]&1)&&f(V,"data-name",w[0])},i(w){if(!J){for(let q=0;q<Q.length;q+=1)F(R[q]);J=!0}},o(w){R=R.filter(Qe);for(let q=0;q<R.length;q+=1)W(R[q]);J=!1},d(w){w&&O(t),e[8](null),ce(L,w),ce(R,w),_e=!1,Y(Se)}}}function yt(e,t,l){let n=["School","TacticRole","Position","BulletType","ArmorType"],i=["Explosion","Pierce","Mystic","Sonic"],a=[],o,d=new URLSearchParams(location.search),r=d.get("name"),c=[],p={name:"",checkbox:""},m=+d.get("size")||96,_=!!+d.get("icon");j();function s(){if(!o)return;let k=p.name+p.checkbox;l(3,o.innerHTML=k?`<style>${k}</style>`:"",o)}function u(){let k=r==null?void 0:r.trim();p.name=k?`.student.student.student.student:not([data-name*="${k}"]) { display: none; }`:"",s()}function y(){let k=c.map($=>$.filters.filter(G=>G.value).length?$.filters.filter(G=>!G.value).map(G=>`[data-${$.prop.toLowerCase()}="${G.label}"]`):void 0).flat().filter(Boolean),A=k.length?k.map($=>`.student${$}`).join()+"{ display: none !important; }":"";p.checkbox=A,s()}async function j(){let k=await fetch(dt).then(A=>A.json());v(k),z(k)}function z(k){l(1,c=n.map(A=>({prop:A,filters:[...new Set(k.map($=>$[A]))].map($=>({label:$,value:!1}))})))}function v(k){l(2,a=[]),k.forEach(A=>{let $=i.findIndex(ne=>ne===A.BulletType);a[$]||l(2,a[$]=[[],[]],a),a[$][A.SquadType==="Main"?0:1].push(A)})}function g(){l(0,r=""),c.forEach(k=>{k.filters.forEach(A=>{A.value=!1})}),l(1,c)}function B(k){ge[k?"unshift":"push"](()=>{o=k,l(3,o)})}function M(k,A){k[A].value=this.checked,l(1,c)}function N(){r=this.value,l(0,r)}function S(){m=tt(this.value),l(4,m)}function E(){_=this.checked,l(5,_)}return e.$$.update=()=>{e.$$.dirty[0]&1&&u(),e.$$.dirty[0]&2&&y()},[r,c,a,o,m,_,i,g,B,M,N,S,E]}class bt extends Je{constructor(t){super(),We(this,t,yt,vt,Ge,{},null,[-1,-1])}}new bt({target:document.getElementById("app")});
