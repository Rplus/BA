var Ye=Object.defineProperty;var Ze=(e,t,l)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var pe=(e,t,l)=>(Ze(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=l(i);fetch(i.href,o)}})();function oe(){}function Fe(e){return e()}function Be(){return Object.create(null)}function Y(e){e.forEach(Fe)}function He(e){return typeof e=="function"}function Ge(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let se;function Ae(e,t){return e===t?!0:(se||(se=document.createElement("a")),se.href=t,e===se.href)}function xe(e){return Object.keys(e).length===0}const et=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function h(e,t){e.appendChild(t)}function D(e,t,l){e.insertBefore(t,l||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function fe(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function k(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function R(){return I(" ")}function be(){return I("")}function ee(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function u(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function tt(e){return e===""?null:+e}function lt(e){return Array.from(e.childNodes)}function K(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}function C(e,t,l,n){l==null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}let ke;function ae(e){ke=e}const te=[],ge=[];let le=[];const Ne=[],nt=Promise.resolve();let ve=!1;function it(){ve||(ve=!0,nt.then(Ue))}function ye(e){le.push(e)}const me=new Set;let x=0;function Ue(){if(x!==0)return;const e=ke;do{try{for(;x<te.length;){const t=te[x];x++,ae(t),at(t.$$)}}catch(t){throw te.length=0,x=0,t}for(ae(null),te.length=0,x=0;ge.length;)ge.pop()();for(let t=0;t<le.length;t+=1){const l=le[t];me.has(l)||(me.add(l),l())}le.length=0}while(te.length);for(;Ne.length;)Ne.pop()();ve=!1,me.clear(),ae(e)}function at(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ye)}}function ot(e){const t=[],l=[];le.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),le=t}const ue=new Set;let X;function ce(){X={r:0,c:[],p:X}}function he(){X.r||Y(X.c),X=X.p}function F(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function W(e,t,l,n){if(e&&e.o){if(ue.has(e))return;ue.add(e),X.c.push(()=>{ue.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function U(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function st(e,t){W(e,1,1,()=>{t.delete(e.key)})}function rt(e,t,l,n,i,o,s,d,f,c,_,b){let p=e.length,a=o.length,r=p;const g={};for(;r--;)g[e[r].key]=r;const v=[],$=new Map,y=new Map,m=[];for(r=a;r--;){const B=b(i,o,r),q=l(B);let T=s.get(q);T?n&&m.push(()=>T.p(B,t)):(T=c(q,B),T.c()),$.set(q,v[r]=T),q in g&&y.set(q,Math.abs(r-g[q]))}const A=new Set,L=new Set;function P(B){F(B,1),B.m(d,_),s.set(B.key,B),_=B.first,a--}for(;p&&a;){const B=v[a-1],q=e[p-1],T=B.key,N=q.key;B===q?(_=B.first,p--,a--):$.has(N)?!s.has(T)||A.has(T)?P(B):L.has(N)?p--:y.get(T)>y.get(N)?(L.add(T),P(B)):(A.add(N),p--):(f(q,s),p--)}for(;p--;){const B=e[p];$.has(B.key)||f(B,s)}for(;a;)P(v[a-1]);return Y(m),v}function ut(e){e&&e.c()}function Ve(e,t,l){const{fragment:n,after_update:i}=e.$$;n&&n.m(t,l),ye(()=>{const o=e.$$.on_mount.map(Fe).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...o):Y(o),e.$$.on_mount=[]}),i.forEach(ye)}function Ke(e,t){const l=e.$$;l.fragment!==null&&(ot(l.after_update),Y(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function ft(e,t){e.$$.dirty[0]===-1&&(te.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function We(e,t,l,n,i,o,s,d=[-1]){const f=ke;ae(e);const c=e.$$={fragment:null,ctx:[],props:o,update:oe,not_equal:i,bound:Be(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(f?f.$$.context:[])),callbacks:Be(),dirty:d,skip_bound:!1,root:t.target||f.$$.root};s&&s(c.root);let _=!1;if(c.ctx=l?l(e,t.props||{},(b,p,...a)=>{const r=a.length?a[0]:p;return c.ctx&&i(c.ctx[b],c.ctx[b]=r)&&(!c.skip_bound&&c.bound[b]&&c.bound[b](r),_&&ft(e,b)),p}):[],c.update(),_=!0,Y(c.before_update),c.fragment=n?n(c.ctx):!1,t.target){if(t.hydrate){const b=lt(t.target);c.fragment&&c.fragment.l(b),b.forEach(z)}else c.fragment&&c.fragment.c();t.intro&&F(e.$$.fragment),Ve(e,t.target,t.anchor),Ue()}ae(f)}class Je{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){Ke(this,1),this.$destroy=oe}$on(t,l){if(!He(l))return oe;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ct="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ct);const ht="/BA/assets/students-8101f280.json",dt={Explosion:"爆發",Pierce:"貫穿",Mystic:"神秘",Sonic:"振動",Main:"前排",Support:"後排",TacticRole:"作用",Position:"位置",BulletType:"攻屬",ArmorType:"防屬",DamageDealer:"輸出",Tanker:"坦克",Supporter:"輔助",Healer:"治療",Vehicle:"T.S.",Back:"遠距",Front:"近距",Middle:"中距",LightArmor:"輕甲",HeavyArmor:"重甲",Unarmed:"特殊",ElasticArmor:"彈力",Gehenna:"格黑娜",Millennium:"千年",Trinity:"三一",Abydos:"阿拜多斯",Shanhaijing:"山海經",Hyakkiyako:"百鬼夜行",RedWinter:"赤冬",Valkyrie:"女武神",ETC:"?",SRT:"SRT",Arius:"奧利斯"},_t={IMG_FOLDER:"https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/"};function H(e=""){return dt[e]||e}function Pe(e){let t,l,n=H(e[2].BulletType)[0]+"",i,o,s,d,f,c=H(e[2].ArmorType)[0]+"",_,b,p;return{c(){t=k("div"),l=k("div"),i=I(n),d=R(),f=k("div"),_=I(c),u(l,"class",o="icon icon-"+e[2].BulletType+" svelte-14kxvfh"),C(l,"--background-image","url('"+e[3]+"/ui/Type_Attack_s.png')"),u(l,"title",s=e[2].BulletType),u(f,"class",b="icon icon-"+e[2].ArmorType+" svelte-14kxvfh"),C(f,"--background-image","url('"+e[3]+"/ui/Type_Defense_s.png')"),u(f,"title",p=e[2].ArmorType),u(t,"class","icons svelte-14kxvfh")},m(a,r){D(a,t,r),h(t,l),h(l,i),h(t,d),h(t,f),h(f,_)},p(a,r){r&4&&n!==(n=H(a[2].BulletType)[0]+"")&&K(i,n),r&4&&o!==(o="icon icon-"+a[2].BulletType+" svelte-14kxvfh")&&u(l,"class",o),r&4&&s!==(s=a[2].BulletType)&&u(l,"title",s),r&4&&c!==(c=H(a[2].ArmorType)[0]+"")&&K(_,c),r&4&&b!==(b="icon icon-"+a[2].ArmorType+" svelte-14kxvfh")&&u(f,"class",b),r&4&&p!==(p=a[2].ArmorType)&&u(f,"title",p)},d(a){a&&z(t)}}}function Re(e){let t,l,n,i,o,s,d=e[2].Name_tw+"",f,c,_,b,p=e[2].PathName+"",a,r,g,v,$,y,m=e[2].Name_jp+"",A,L;return{c(){t=k("div"),l=k("div"),n=k("div"),s=R(),f=I(d),c=R(),_=k("div"),b=k("a"),a=I(p),g=R(),v=k("br"),$=R(),y=k("a"),A=I(m),u(n,"class",i="icon icon-"+e[2].TacticRole+" icon-role svelte-14kxvfh"),C(n,"background-image","url('"+e[3]+"/ui/Role_"+e[2].TacticRole+".png')"),u(n,"title",o=e[2].TacticRole),u(l,"class","name-inner svelte-14kxvfh"),u(b,"href",r="https://schale.gg/?chara="+e[2].PathName),u(b,"target","schale.gg"),u(b,"class","svelte-14kxvfh"),u(y,"href",L="https://bluearchive.wikiru.jp/?"+e[2].Name_jp+"#Profile"),u(y,"target","wikiru"),u(y,"class","svelte-14kxvfh"),u(_,"class","tip svelte-14kxvfh"),u(t,"class","name svelte-14kxvfh")},m(P,B){D(P,t,B),h(t,l),h(l,n),h(l,s),h(l,f),h(t,c),h(t,_),h(_,b),h(b,a),h(_,g),h(_,v),h(_,$),h(_,y),h(y,A)},p(P,B){B&4&&i!==(i="icon icon-"+P[2].TacticRole+" icon-role svelte-14kxvfh")&&u(n,"class",i),B&4&&C(n,"background-image","url('"+P[3]+"/ui/Role_"+P[2].TacticRole+".png')"),B&4&&o!==(o=P[2].TacticRole)&&u(n,"title",o),B&4&&d!==(d=P[2].Name_tw+"")&&K(f,d),B&4&&p!==(p=P[2].PathName+"")&&K(a,p),B&4&&r!==(r="https://schale.gg/?chara="+P[2].PathName)&&u(b,"href",r),B&4&&m!==(m=P[2].Name_jp+"")&&K(A,m),B&4&&L!==(L="https://bluearchive.wikiru.jp/?"+P[2].Name_jp+"#Profile")&&u(y,"href",L)},d(P){P&&z(t)}}}function pt(e){let t,l,n,i,o,s,d,f,c,_,b,p,a=e[0]&&Pe(e),r=e[1]>60&&Re(e);return{c(){t=k("div"),l=k("img"),o=R(),a&&a.c(),s=R(),r&&r.c(),u(l,"class","avatar svelte-14kxvfh"),Ae(l.src,n=e[3]+"student/collection/"+e[2].CollectionTexture+".webp")||u(l,"src",n),u(l,"loading","lazy"),u(l,"alt",i=e[2].Name_tw),u(t,"class","student svelte-14kxvfh"),u(t,"data-name",d=e[2].Name_tw),u(t,"data-school",f=e[2].School),u(t,"data-position",c=e[2].Position),u(t,"data-armortype",_=e[2].ArmorType),u(t,"data-bullettype",b=e[2].BulletType),u(t,"data-tacticrole",p=e[2].TacticRole)},m(g,v){D(g,t,v),h(t,l),h(t,o),a&&a.m(t,null),h(t,s),r&&r.m(t,null)},p(g,[v]){v&4&&!Ae(l.src,n=g[3]+"student/collection/"+g[2].CollectionTexture+".webp")&&u(l,"src",n),v&4&&i!==(i=g[2].Name_tw)&&u(l,"alt",i),g[0]?a?a.p(g,v):(a=Pe(g),a.c(),a.m(t,s)):a&&(a.d(1),a=null),g[1]>60?r?r.p(g,v):(r=Re(g),r.c(),r.m(t,null)):r&&(r.d(1),r=null),v&4&&d!==(d=g[2].Name_tw)&&u(t,"data-name",d),v&4&&f!==(f=g[2].School)&&u(t,"data-school",f),v&4&&c!==(c=g[2].Position)&&u(t,"data-position",c),v&4&&_!==(_=g[2].ArmorType)&&u(t,"data-armortype",_),v&4&&b!==(b=g[2].BulletType)&&u(t,"data-bullettype",b),v&4&&p!==(p=g[2].TacticRole)&&u(t,"data-tacticrole",p)},i:oe,o:oe,d(g){g&&z(t),a&&a.d(),r&&r.d()}}}function mt(e,t,l){let{show_icons:n=!1}=t,{avatar_size:i}=t,{stu:o={}}=t;const s=_t.IMG_FOLDER;return e.$$set=d=>{"show_icons"in d&&l(0,n=d.show_icons),"avatar_size"in d&&l(1,i=d.avatar_size),"stu"in d&&l(2,o=d.stu)},[n,i,o,s]}class gt extends Je{constructor(t){super(),We(this,t,mt,pt,Ge,{show_icons:0,avatar_size:1,stu:2})}}const{Boolean:Qe}=et;function Ee(e,t,l){const n=e.slice();return n[22]=t[l],n[24]=l,n}function qe(e,t,l){const n=e.slice();return n[25]=t[l],n}function Me(e,t,l){const n=e.slice();return n[28]=t[l],n}function $e(e,t,l){const n=e.slice();return n[31]=t[l],n}function Le(e,t,l){const n=e.slice();return n[34]=t[l],n[35]=t,n[36]=l,n}function je(e){let t,l,n,i,o,s,d=H(e[34].label)+"",f,c,_;function b(){e[9].call(n,e[35],e[36])}return{c(){t=k("div"),l=k("label"),n=k("input"),i=R(),o=k("i"),s=R(),f=I(d),u(n,"type","checkbox"),u(o,"class","label-icon"),C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},m(p,a){D(p,t,a),h(t,l),h(l,n),n.checked=e[34].value,h(l,i),h(l,o),h(l,s),h(l,f),c||(_=ee(n,"change",b),c=!0)},p(p,a){e=p,a[0]&2&&(n.checked=e[34].value),a[0]&2&&d!==(d=H(e[34].label)+"")&&K(f,d),a[0]&2&&C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},d(p){p&&z(t),c=!1,_()}}}function Oe(e){let t,l,n=H(e[31].prop)+"",i,o,s,d,f,c,_,b,p=U(e[31].filters),a=[];for(let r=0;r<p.length;r+=1)a[r]=je(Le(e,p,r));return{c(){t=k("fieldset"),l=k("legend"),i=I(n),o=R(),s=k("details"),d=k("summary"),f=R(),c=k("div");for(let r=0;r<a.length;r+=1)a[r].c();u(d,"class","svelte-1motxg"),u(s,"class","filter-details svelte-1motxg"),s.open=_=e[31].filters.length<8,u(t,"class",b="filter-cate__"+e[31].prop+" svelte-1motxg")},m(r,g){D(r,t,g),h(t,l),h(l,i),h(t,o),h(t,s),h(s,d),h(s,f),h(s,c);for(let v=0;v<a.length;v+=1)a[v]&&a[v].m(c,null)},p(r,g){if(g[0]&2&&n!==(n=H(r[31].prop)+"")&&K(i,n),g[0]&2){p=U(r[31].filters);let v;for(v=0;v<p.length;v+=1){const $=Le(r,p,v);a[v]?a[v].p($,g):(a[v]=je($),a[v].c(),a[v].m(c,null))}for(;v<a.length;v+=1)a[v].d(1);a.length=p.length}g[0]&2&&_!==(_=r[31].filters.length<8)&&(s.open=_),g[0]&2&&b!==(b="filter-cate__"+r[31].prop+" svelte-1motxg")&&u(t,"class",b)},d(r){r&&z(t),fe(a,r)}}}function ze(e){var $;let t,l=H(($=e[25][0])==null?void 0:$.SquadType)+"",n,i,o,s=H(e[6][e[24]])+"",d,f,c,_=[],b=new Map,p,a,r,g=U(e[25]);const v=y=>y[28].PathName;for(let y=0;y<g.length;y+=1){let m=Me(e,g,y),A=v(m);b.set(A,_[y]=De(A,m))}return{c(){var y,m;t=k("h3"),n=I(l),i=R(),o=k("h3"),d=I(s),f=R(),c=k("div");for(let A=0;A<_.length;A+=1)_[A].c();p=R(),u(t,"class","th"),C(t,"grid-area",((y=e[25][0])==null?void 0:y.SquadType)+"-title"),u(o,"class","th"),C(o,"grid-area",e[6][e[24]]+"-title"),u(c,"class","cell"),u(c,"data-squad",a=(m=e[25][0])==null?void 0:m.SquadType),u(c,"data-bullet",e[6][e[24]])},m(y,m){D(y,t,m),h(t,n),D(y,i,m),D(y,o,m),h(o,d),D(y,f,m),D(y,c,m);for(let A=0;A<_.length;A+=1)_[A]&&_[A].m(c,null);h(c,p),r=!0},p(y,m){var A,L,P;(!r||m[0]&4)&&l!==(l=H((A=y[25][0])==null?void 0:A.SquadType)+"")&&K(n,l),(!r||m[0]&4)&&C(t,"grid-area",((L=y[25][0])==null?void 0:L.SquadType)+"-title"),m[0]&52&&(g=U(y[25]),ce(),_=rt(_,m,v,1,y,g,b,c,st,De,p,Me),he()),(!r||m[0]&4&&a!==(a=(P=y[25][0])==null?void 0:P.SquadType))&&u(c,"data-squad",a)},i(y){if(!r){for(let m=0;m<g.length;m+=1)F(_[m]);r=!0}},o(y){for(let m=0;m<_.length;m+=1)W(_[m]);r=!1},d(y){y&&(z(t),z(i),z(o),z(f),z(c));for(let m=0;m<_.length;m+=1)_[m].d()}}}function De(e,t){let l,n,i;return n=new gt({props:{show_icons:t[5],avatar_size:t[4],stu:t[28]}}),{key:e,first:null,c(){l=be(),ut(n.$$.fragment),this.first=l},m(o,s){D(o,l,s),Ve(n,o,s),i=!0},p(o,s){t=o;const d={};s[0]&32&&(d.show_icons=t[5]),s[0]&16&&(d.avatar_size=t[4]),s[0]&4&&(d.stu=t[28]),n.$set(d)},i(o){i||(F(n.$$.fragment,o),i=!0)},o(o){W(n.$$.fragment,o),i=!1},d(o){o&&z(l),Ke(n,o)}}}function Ce(e){let t,l,n=e[25].length&&ze(e);return{c(){n&&n.c(),t=be()},m(i,o){n&&n.m(i,o),D(i,t,o),l=!0},p(i,o){i[25].length?n?(n.p(i,o),o[0]&4&&F(n,1)):(n=ze(i),n.c(),F(n,1),n.m(t.parentNode,t)):n&&(ce(),W(n,1,1,()=>{n=null}),he())},i(i){l||(F(n),l=!0)},o(i){W(n),l=!1},d(i){i&&z(t),n&&n.d(i)}}}function Ie(e){let t,l,n=U(e[22]),i=[];for(let s=0;s<n.length;s+=1)i[s]=Ce(qe(e,n,s));const o=s=>W(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=be()},m(s,d){for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(s,d);D(s,t,d),l=!0},p(s,d){if(d[0]&116){n=U(s[22]);let f;for(f=0;f<n.length;f+=1){const c=qe(s,n,f);i[f]?(i[f].p(c,d),F(i[f],1)):(i[f]=Ce(c),i[f].c(),F(i[f],1),i[f].m(t.parentNode,t))}for(ce(),f=n.length;f<i.length;f+=1)o(f);he()}},i(s){if(!l){for(let d=0;d<n.length;d+=1)F(i[d]);l=!0}},o(s){i=i.filter(Qe);for(let d=0;d<i.length;d+=1)W(i[d]);l=!1},d(s){s&&z(t),fe(i,s)}}}function vt(e){let t,l,n,i,o,s,d,f,c,_,b,p,a,r,g,v,$,y,m,A,L,P,B,q,T,N,j,ne,G,we,V,Te,de,J,_e,Se,Z=U(e[1]),O=[];for(let w=0;w<Z.length;w+=1)O[w]=Oe($e(e,Z,w));let Q=U(e[2]),E=[];for(let w=0;w<Q.length;w+=1)E[w]=Ie(Ee(e,Q,w));const Xe=w=>W(E[w],1,1,()=>{E[w]=null});return{c(){t=k("main"),l=k("div"),n=R(),i=k("details"),o=k("summary"),o.textContent="Filters",s=R(),d=k("form");for(let w=0;w<O.length;w+=1)O[w].c();f=R(),c=k("div"),_=k("fieldset"),b=k("legend"),b.textContent="Name",p=R(),a=k("input"),r=R(),g=k("fieldset"),v=k("legend"),v.textContent="圖片尺寸",$=R(),y=k("div"),m=k("input"),A=R(),L=I(e[4]),P=I("px"),B=R(),q=k("div"),T=k("label"),N=k("input"),j=I(" 顯示圖示"),ne=R(),G=k("input"),we=R(),V=k("div");for(let w=0;w<E.length;w+=1)E[w].c();Te=R(),de=k("footer"),de.innerHTML='<hr/> <h1>Blue Archive students filter</h1> <hr/> <details open=""><summary>url para:</summary> <ul><li>`name=xxx`: name filter</li> <li>`size=96`: image size</li> <li>`icon=1`: show type icon</li></ul></details> <hr/>\n\n    data &amp; image come from <a href="https://github.com/lonqie/SchaleDB">https://github.com/lonqie/SchaleDB</a>',u(l,"class","dynamic-style"),u(a,"type","search"),u(a,"placeholder","name"),a.autofocus=!0,u(a,"accesskey","q"),u(m,"type","range"),u(m,"step","12"),u(m,"min","48"),u(m,"max","96"),C(y,"display","inline-flex"),u(N,"type","checkbox"),u(G,"type","reset"),G.value="Reset",C(q,"display","flex"),C(q,"justify-content","space-between"),u(d,"class","filter-form"),u(i,"class","filters"),i.open=!0,u(V,"class","table"),C(V,"--avatar-size",e[4]),u(V,"data-name",e[0])},m(w,M){D(w,t,M),h(t,l),e[8](l),h(t,n),h(t,i),h(i,o),h(i,s),h(i,d);for(let S=0;S<O.length;S+=1)O[S]&&O[S].m(d,null);h(d,f),h(d,c),h(c,_),h(_,b),h(_,p),h(_,a),re(a,e[0]),h(c,r),h(c,g),h(g,v),h(g,$),h(g,y),h(y,m),re(m,e[4]),h(y,A),h(y,L),h(y,P),h(c,B),h(c,q),h(q,T),h(T,N),N.checked=e[5],h(T,j),h(q,ne),h(q,G),h(t,we),h(t,V);for(let S=0;S<E.length;S+=1)E[S]&&E[S].m(V,null);h(t,Te),h(t,de),J=!0,a.focus(),_e||(Se=[ee(a,"input",e[10]),ee(m,"change",e[11]),ee(m,"input",e[11]),ee(N,"change",e[12]),ee(d,"reset",e[7])],_e=!0)},p(w,M){if(M[0]&2){Z=U(w[1]);let S;for(S=0;S<Z.length;S+=1){const ie=$e(w,Z,S);O[S]?O[S].p(ie,M):(O[S]=Oe(ie),O[S].c(),O[S].m(d,f))}for(;S<O.length;S+=1)O[S].d(1);O.length=Z.length}if(M[0]&1&&a.value!==w[0]&&re(a,w[0]),M[0]&16&&re(m,w[4]),(!J||M[0]&16)&&K(L,w[4]),M[0]&32&&(N.checked=w[5]),M[0]&116){Q=U(w[2]);let S;for(S=0;S<Q.length;S+=1){const ie=Ee(w,Q,S);E[S]?(E[S].p(ie,M),F(E[S],1)):(E[S]=Ie(ie),E[S].c(),F(E[S],1),E[S].m(V,null))}for(ce(),S=Q.length;S<E.length;S+=1)Xe(S);he()}(!J||M[0]&16)&&C(V,"--avatar-size",w[4]),(!J||M[0]&1)&&u(V,"data-name",w[0])},i(w){if(!J){for(let M=0;M<Q.length;M+=1)F(E[M]);J=!0}},o(w){E=E.filter(Qe);for(let M=0;M<E.length;M+=1)W(E[M]);J=!1},d(w){w&&z(t),e[8](null),fe(O,w),fe(E,w),_e=!1,Y(Se)}}}function yt(e,t,l){let n=["School","TacticRole","Position","BulletType","ArmorType"],i=["Explosion","Pierce","Mystic","Sonic"],o=[],s,d=new URLSearchParams(location.search),f=d.get("name"),c=[],_={name:"",checkbox:""},b=+d.get("size")||96,p=!!+d.get("icon");v();function a(){if(!s)return;let T=_.name+_.checkbox;l(3,s.innerHTML=T?`<style>${T}</style>`:"",s)}function r(){let T=f==null?void 0:f.trim();_.name=T?`.student.student.student.student:not([data-name*="${T}"]) { display: none; }`:"",a()}function g(){let T=c.map(j=>j.filters.filter(G=>G.value).length?j.filters.filter(G=>!G.value).map(G=>`[data-${j.prop.toLowerCase()}="${G.label}"]`):void 0).flat().filter(Boolean),N=T.length?T.map(j=>`.student${j}`).join()+"{ display: none !important; }":"";_.checkbox=N,a()}async function v(){let T=await fetch(ht).then(N=>N.json());y(T),$(T)}function $(T){l(1,c=n.map(N=>({prop:N,filters:[...new Set(T.map(j=>j[N]))].map(j=>({label:j,value:!1}))})))}function y(T){l(2,o=[]),T.forEach(N=>{let j=i.findIndex(ne=>ne===N.BulletType);o[j]||l(2,o[j]=[[],[]],o),o[j][N.SquadType==="Main"?0:1].push(N)})}function m(){l(0,f=""),c.forEach(T=>{T.filters.forEach(N=>{N.value=!1})}),l(1,c)}function A(T){ge[T?"unshift":"push"](()=>{s=T,l(3,s)})}function L(T,N){T[N].value=this.checked,l(1,c)}function P(){f=this.value,l(0,f)}function B(){b=tt(this.value),l(4,b)}function q(){p=this.checked,l(5,p)}return e.$$.update=()=>{e.$$.dirty[0]&1&&r(),e.$$.dirty[0]&2&&g()},[f,c,o,s,b,p,i,m,A,L,P,B,q]}class bt extends Je{constructor(t){super(),We(this,t,yt,vt,Ge,{},null,[-1,-1])}}new bt({target:document.getElementById("app")});
