var Ye=Object.defineProperty;var Ze=(e,t,l)=>t in e?Ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:l}):e[t]=l;var pe=(e,t,l)=>(Ze(e,typeof t!="symbol"?t+"":t,l),l);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function l(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=l(i);fetch(i.href,a)}})();function oe(){}function Fe(e){return e()}function je(){return Object.create(null)}function Y(e){e.forEach(Fe)}function He(e){return typeof e=="function"}function Ge(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let se;function Be(e,t){return e===t?!0:(se||(se=document.createElement("a")),se.href=t,e===se.href)}function xe(e){return Object.keys(e).length===0}const et=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function h(e,t){e.appendChild(t)}function D(e,t,l){e.insertBefore(t,l||null)}function O(e){e.parentNode&&e.parentNode.removeChild(e)}function ce(e,t){for(let l=0;l<e.length;l+=1)e[l]&&e[l].d(t)}function y(e){return document.createElement(e)}function I(e){return document.createTextNode(e)}function P(){return I(" ")}function be(){return I("")}function ee(e,t,l,n){return e.addEventListener(t,l,n),()=>e.removeEventListener(t,l,n)}function d(e,t,l){l==null?e.removeAttribute(t):e.getAttribute(t)!==l&&e.setAttribute(t,l)}function tt(e){return e===""?null:+e}function lt(e){return Array.from(e.childNodes)}function K(e,t){t=""+t,e.data!==t&&(e.data=t)}function re(e,t){e.value=t??""}function C(e,t,l,n){l==null?e.style.removeProperty(t):e.style.setProperty(t,l,n?"important":"")}let we;function ae(e){we=e}const te=[],ge=[];let le=[];const Ae=[],nt=Promise.resolve();let ve=!1;function it(){ve||(ve=!0,nt.then(Ue))}function ye(e){le.push(e)}const me=new Set;let x=0;function Ue(){if(x!==0)return;const e=we;do{try{for(;x<te.length;){const t=te[x];x++,ae(t),at(t.$$)}}catch(t){throw te.length=0,x=0,t}for(ae(null),te.length=0,x=0;ge.length;)ge.pop()();for(let t=0;t<le.length;t+=1){const l=le[t];me.has(l)||(me.add(l),l())}le.length=0}while(te.length);for(;Ae.length;)Ae.pop()();ve=!1,me.clear(),ae(e)}function at(e){if(e.fragment!==null){e.update(),Y(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ye)}}function ot(e){const t=[],l=[];le.forEach(n=>e.indexOf(n)===-1?t.push(n):l.push(n)),l.forEach(n=>n()),le=t}const ue=new Set;let X;function fe(){X={r:0,c:[],p:X}}function de(){X.r||Y(X.c),X=X.p}function F(e,t){e&&e.i&&(ue.delete(e),e.i(t))}function W(e,t,l,n){if(e&&e.o){if(ue.has(e))return;ue.add(e),X.c.push(()=>{ue.delete(e),n&&(l&&e.d(1),n())}),e.o(t)}else n&&n()}function U(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function st(e,t){W(e,1,1,()=>{t.delete(e.key)})}function rt(e,t,l,n,i,a,s,f,r,o,u,g){let _=e.length,c=a.length,p=_;const b={};for(;p--;)b[e[p].key]=p;const j=[],z=new Map,v=new Map,m=[];for(p=c;p--;){const S=g(i,a,p),E=l(S);let k=s.get(E);k?n&&m.push(()=>k.p(S,t)):(k=o(E,S),k.c()),z.set(E,j[p]=k),E in b&&v.set(E,Math.abs(p-b[E]))}const B=new Set,M=new Set;function N(S){F(S,1),S.m(f,u),s.set(S.key,S),u=S.first,c--}for(;_&&c;){const S=j[c-1],E=e[_-1],k=S.key,A=E.key;S===E?(u=S.first,_--,c--):z.has(A)?!s.has(k)||B.has(k)?N(S):M.has(A)?_--:v.get(k)>v.get(A)?(M.add(k),N(S)):(B.add(A),_--):(r(E,s),_--)}for(;_--;){const S=e[_];z.has(S.key)||r(S,s)}for(;c;)N(j[c-1]);return Y(m),j}function ut(e){e&&e.c()}function Ve(e,t,l){const{fragment:n,after_update:i}=e.$$;n&&n.m(t,l),ye(()=>{const a=e.$$.on_mount.map(Fe).filter(He);e.$$.on_destroy?e.$$.on_destroy.push(...a):Y(a),e.$$.on_mount=[]}),i.forEach(ye)}function Ke(e,t){const l=e.$$;l.fragment!==null&&(ot(l.after_update),Y(l.on_destroy),l.fragment&&l.fragment.d(t),l.on_destroy=l.fragment=null,l.ctx=[])}function ct(e,t){e.$$.dirty[0]===-1&&(te.push(e),it(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function We(e,t,l,n,i,a,s,f=[-1]){const r=we;ae(e);const o=e.$$={fragment:null,ctx:[],props:a,update:oe,not_equal:i,bound:je(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(r?r.$$.context:[])),callbacks:je(),dirty:f,skip_bound:!1,root:t.target||r.$$.root};s&&s(o.root);let u=!1;if(o.ctx=l?l(e,t.props||{},(g,_,...c)=>{const p=c.length?c[0]:_;return o.ctx&&i(o.ctx[g],o.ctx[g]=p)&&(!o.skip_bound&&o.bound[g]&&o.bound[g](p),u&&ct(e,g)),_}):[],o.update(),u=!0,Y(o.before_update),o.fragment=n?n(o.ctx):!1,t.target){if(t.hydrate){const g=lt(t.target);o.fragment&&o.fragment.l(g),g.forEach(O)}else o.fragment&&o.fragment.c();t.intro&&F(e.$$.fragment),Ve(e,t.target,t.anchor),Ue()}ae(r)}class Je{constructor(){pe(this,"$$");pe(this,"$$set")}$destroy(){Ke(this,1),this.$destroy=oe}$on(t,l){if(!He(l))return oe;const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(l),()=>{const i=n.indexOf(l);i!==-1&&n.splice(i,1)}}$set(t){this.$$set&&!xe(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const ft="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ft);const dt="/BA/assets/students-8101f280.json",ht={Explosion:"爆發",Pierce:"貫穿",Mystic:"神秘",Sonic:"振動",Main:"前排",Support:"後排",TacticRole:"作用",Position:"位置",BulletType:"攻屬",ArmorType:"防屬",DamageDealer:"輸出",Tanker:"坦克",Supporter:"輔助",Healer:"治療",Vehicle:"T.S.",Back:"遠距",Front:"近距",Middle:"中距",LightArmor:"輕甲",HeavyArmor:"重甲",Unarmed:"特殊",ElasticArmor:"彈力",Gehenna:"格黑娜",Millennium:"千年",Trinity:"三一",Abydos:"阿拜多斯",Shanhaijing:"山海經",Hyakkiyako:"百鬼夜行",RedWinter:"赤冬",Valkyrie:"女武神",ETC:"?",SRT:"SRT",Arius:"奧利斯"},_t={IMG_FOLDER:"https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/"};function H(e=""){return ht[e]||e}function Ne(e){let t,l,n=H(e[2].BulletType)[0]+"",i,a,s,f,r,o=H(e[2].ArmorType)[0]+"",u,g,_;return{c(){t=y("div"),l=y("div"),i=I(n),f=P(),r=y("div"),u=I(o),d(l,"class",a="icon icon-"+e[2].BulletType+" svelte-dcnyjt"),C(l,"--background-image","url('"+e[3]+"/ui/Type_Attack_s.png')"),d(l,"title",s=e[2].BulletType),d(r,"class",g="icon icon-"+e[2].ArmorType+" svelte-dcnyjt"),C(r,"--background-image","url('"+e[3]+"/ui/Type_Defense_s.png')"),d(r,"title",_=e[2].ArmorType),d(t,"class","icons svelte-dcnyjt")},m(c,p){D(c,t,p),h(t,l),h(l,i),h(t,f),h(t,r),h(r,u)},p(c,p){p&4&&n!==(n=H(c[2].BulletType)[0]+"")&&K(i,n),p&4&&a!==(a="icon icon-"+c[2].BulletType+" svelte-dcnyjt")&&d(l,"class",a),p&4&&s!==(s=c[2].BulletType)&&d(l,"title",s),p&4&&o!==(o=H(c[2].ArmorType)[0]+"")&&K(u,o),p&4&&g!==(g="icon icon-"+c[2].ArmorType+" svelte-dcnyjt")&&d(r,"class",g),p&4&&_!==(_=c[2].ArmorType)&&d(r,"title",_)},d(c){c&&O(t)}}}function Pe(e){let t,l,n,i,a,s,f=e[2].Name_tw+"",r,o,u,g,_=e[2].PathName+"",c,p,b,j,z,v,m=e[2].Name_jp+"",B,M;return{c(){t=y("div"),l=y("div"),n=y("div"),s=P(),r=I(f),o=P(),u=y("div"),g=y("a"),c=I(_),b=P(),j=y("br"),z=P(),v=y("a"),B=I(m),d(n,"class",i="icon icon-"+e[2].TacticRole+" icon-role svelte-dcnyjt"),C(n,"background-image","url('"+e[3]+"/ui/Role_"+e[2].TacticRole+".png')"),d(n,"title",a=e[2].TacticRole),d(l,"class","name-inner svelte-dcnyjt"),d(g,"href",p="https://schale.gg/?chara="+e[2].PathName),d(g,"target","schale.gg"),d(g,"class","svelte-dcnyjt"),d(v,"href",M="https://bluearchive.wikiru.jp/?"+e[2].Name_jp+"#Profile"),d(v,"target","wikiru"),d(v,"class","svelte-dcnyjt"),d(u,"class","tip svelte-dcnyjt"),d(t,"class","name svelte-dcnyjt")},m(N,S){D(N,t,S),h(t,l),h(l,n),h(l,s),h(l,r),h(t,o),h(t,u),h(u,g),h(g,c),h(u,b),h(u,j),h(u,z),h(u,v),h(v,B)},p(N,S){S&4&&i!==(i="icon icon-"+N[2].TacticRole+" icon-role svelte-dcnyjt")&&d(n,"class",i),S&4&&C(n,"background-image","url('"+N[3]+"/ui/Role_"+N[2].TacticRole+".png')"),S&4&&a!==(a=N[2].TacticRole)&&d(n,"title",a),S&4&&f!==(f=N[2].Name_tw+"")&&K(r,f),S&4&&_!==(_=N[2].PathName+"")&&K(c,_),S&4&&p!==(p="https://schale.gg/?chara="+N[2].PathName)&&d(g,"href",p),S&4&&m!==(m=N[2].Name_jp+"")&&K(B,m),S&4&&M!==(M="https://bluearchive.wikiru.jp/?"+N[2].Name_jp+"#Profile")&&d(v,"href",M)},d(N){N&&O(t)}}}function pt(e){let t,l,n,i,a,s,f,r,o,u,g,_,c=e[0]&&Ne(e),p=e[1]>60&&Pe(e);return{c(){t=y("div"),l=y("img"),a=P(),c&&c.c(),s=P(),p&&p.c(),d(l,"class","avatar svelte-dcnyjt"),Be(l.src,n=e[3]+"student/collection/"+e[2].CollectionTexture+".webp")||d(l,"src",n),d(l,"loading","lazy"),d(l,"alt",i=e[2].Name_tw),d(t,"class","student svelte-dcnyjt"),d(t,"data-name",f=e[2].Name_tw),d(t,"data-school",r=e[2].School),d(t,"data-position",o=e[2].Position),d(t,"data-armortype",u=e[2].ArmorType),d(t,"data-bullettype",g=e[2].BulletType),d(t,"data-tacticrole",_=e[2].TacticRole)},m(b,j){D(b,t,j),h(t,l),h(t,a),c&&c.m(t,null),h(t,s),p&&p.m(t,null)},p(b,[j]){j&4&&!Be(l.src,n=b[3]+"student/collection/"+b[2].CollectionTexture+".webp")&&d(l,"src",n),j&4&&i!==(i=b[2].Name_tw)&&d(l,"alt",i),b[0]?c?c.p(b,j):(c=Ne(b),c.c(),c.m(t,s)):c&&(c.d(1),c=null),b[1]>60?p?p.p(b,j):(p=Pe(b),p.c(),p.m(t,null)):p&&(p.d(1),p=null),j&4&&f!==(f=b[2].Name_tw)&&d(t,"data-name",f),j&4&&r!==(r=b[2].School)&&d(t,"data-school",r),j&4&&o!==(o=b[2].Position)&&d(t,"data-position",o),j&4&&u!==(u=b[2].ArmorType)&&d(t,"data-armortype",u),j&4&&g!==(g=b[2].BulletType)&&d(t,"data-bullettype",g),j&4&&_!==(_=b[2].TacticRole)&&d(t,"data-tacticrole",_)},i:oe,o:oe,d(b){b&&O(t),c&&c.d(),p&&p.d()}}}function mt(e,t,l){let{show_icons:n=!1}=t,{avatar_size:i}=t,{stu:a={}}=t;const s=_t.IMG_FOLDER;return e.$$set=f=>{"show_icons"in f&&l(0,n=f.show_icons),"avatar_size"in f&&l(1,i=f.avatar_size),"stu"in f&&l(2,a=f.stu)},[n,i,a,s]}class gt extends Je{constructor(t){super(),We(this,t,mt,pt,Ge,{show_icons:0,avatar_size:1,stu:2})}}const{Boolean:Qe}=et;function Re(e,t,l){const n=e.slice();return n[22]=t[l],n[24]=l,n}function Ee(e,t,l){const n=e.slice();return n[25]=t[l],n}function qe(e,t,l){const n=e.slice();return n[28]=t[l],n}function Me(e,t,l){const n=e.slice();return n[31]=t[l],n}function $e(e,t,l){const n=e.slice();return n[34]=t[l],n[35]=t,n[36]=l,n}function Le(e){let t,l,n,i,a,s,f=H(e[34].label)+"",r,o,u;function g(){e[9].call(n,e[35],e[36])}return{c(){t=y("div"),l=y("label"),n=y("input"),i=P(),a=y("i"),s=P(),r=I(f),d(n,"type","checkbox"),d(a,"class","label-icon"),C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},m(_,c){D(_,t,c),h(t,l),h(l,n),n.checked=e[34].value,h(l,i),h(l,a),h(l,s),h(l,r),o||(u=ee(n,"change",g),o=!0)},p(_,c){e=_,c[0]&2&&(n.checked=e[34].value),c[0]&2&&f!==(f=H(e[34].label)+"")&&K(r,f),c[0]&2&&C(l,"--icon-path","url('https://proxy.duckduckgo.com/iu/?u=https://raw.githubusercontent.com/lonqie/SchaleDB/main/images/ui/Role_"+e[34].label+".png')")},d(_){_&&O(t),o=!1,u()}}}function Oe(e){let t,l,n=H(e[31].prop)+"",i,a,s,f,r=U(e[31].filters),o=[];for(let u=0;u<r.length;u+=1)o[u]=Le($e(e,r,u));return{c(){t=y("fieldset"),l=y("legend"),i=I(n),a=P(),s=y("div");for(let u=0;u<o.length;u+=1)o[u].c();d(t,"class",f="filter-cate__"+e[31].prop)},m(u,g){D(u,t,g),h(t,l),h(l,i),h(t,a),h(t,s);for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(s,null)},p(u,g){if(g[0]&2&&n!==(n=H(u[31].prop)+"")&&K(i,n),g[0]&2){r=U(u[31].filters);let _;for(_=0;_<r.length;_+=1){const c=$e(u,r,_);o[_]?o[_].p(c,g):(o[_]=Le(c),o[_].c(),o[_].m(s,null))}for(;_<o.length;_+=1)o[_].d(1);o.length=r.length}g[0]&2&&f!==(f="filter-cate__"+u[31].prop)&&d(t,"class",f)},d(u){u&&O(t),ce(o,u)}}}function ze(e){var z;let t,l=H((z=e[25][0])==null?void 0:z.SquadType)+"",n,i,a,s=H(e[6][e[24]])+"",f,r,o,u=[],g=new Map,_,c,p,b=U(e[25]);const j=v=>v[28].PathName;for(let v=0;v<b.length;v+=1){let m=qe(e,b,v),B=j(m);g.set(B,u[v]=De(B,m))}return{c(){var v,m;t=y("h3"),n=I(l),i=P(),a=y("h3"),f=I(s),r=P(),o=y("div");for(let B=0;B<u.length;B+=1)u[B].c();_=P(),d(t,"class","th"),C(t,"grid-area",((v=e[25][0])==null?void 0:v.SquadType)+"-title"),d(a,"class","th"),C(a,"grid-area",e[6][e[24]]+"-title"),d(o,"class","cell"),d(o,"data-squad",c=(m=e[25][0])==null?void 0:m.SquadType),d(o,"data-bullet",e[6][e[24]])},m(v,m){D(v,t,m),h(t,n),D(v,i,m),D(v,a,m),h(a,f),D(v,r,m),D(v,o,m);for(let B=0;B<u.length;B+=1)u[B]&&u[B].m(o,null);h(o,_),p=!0},p(v,m){var B,M,N;(!p||m[0]&4)&&l!==(l=H((B=v[25][0])==null?void 0:B.SquadType)+"")&&K(n,l),(!p||m[0]&4)&&C(t,"grid-area",((M=v[25][0])==null?void 0:M.SquadType)+"-title"),m[0]&52&&(b=U(v[25]),fe(),u=rt(u,m,j,1,v,b,g,o,st,De,_,qe),de()),(!p||m[0]&4&&c!==(c=(N=v[25][0])==null?void 0:N.SquadType))&&d(o,"data-squad",c)},i(v){if(!p){for(let m=0;m<b.length;m+=1)F(u[m]);p=!0}},o(v){for(let m=0;m<u.length;m+=1)W(u[m]);p=!1},d(v){v&&(O(t),O(i),O(a),O(r),O(o));for(let m=0;m<u.length;m+=1)u[m].d()}}}function De(e,t){let l,n,i;return n=new gt({props:{show_icons:t[5],avatar_size:t[4],stu:t[28]}}),{key:e,first:null,c(){l=be(),ut(n.$$.fragment),this.first=l},m(a,s){D(a,l,s),Ve(n,a,s),i=!0},p(a,s){t=a;const f={};s[0]&32&&(f.show_icons=t[5]),s[0]&16&&(f.avatar_size=t[4]),s[0]&4&&(f.stu=t[28]),n.$set(f)},i(a){i||(F(n.$$.fragment,a),i=!0)},o(a){W(n.$$.fragment,a),i=!1},d(a){a&&O(l),Ke(n,a)}}}function Ce(e){let t,l,n=e[25].length&&ze(e);return{c(){n&&n.c(),t=be()},m(i,a){n&&n.m(i,a),D(i,t,a),l=!0},p(i,a){i[25].length?n?(n.p(i,a),a[0]&4&&F(n,1)):(n=ze(i),n.c(),F(n,1),n.m(t.parentNode,t)):n&&(fe(),W(n,1,1,()=>{n=null}),de())},i(i){l||(F(n),l=!0)},o(i){W(n),l=!1},d(i){i&&O(t),n&&n.d(i)}}}function Ie(e){let t,l,n=U(e[22]),i=[];for(let s=0;s<n.length;s+=1)i[s]=Ce(Ee(e,n,s));const a=s=>W(i[s],1,1,()=>{i[s]=null});return{c(){for(let s=0;s<i.length;s+=1)i[s].c();t=be()},m(s,f){for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(s,f);D(s,t,f),l=!0},p(s,f){if(f[0]&116){n=U(s[22]);let r;for(r=0;r<n.length;r+=1){const o=Ee(s,n,r);i[r]?(i[r].p(o,f),F(i[r],1)):(i[r]=Ce(o),i[r].c(),F(i[r],1),i[r].m(t.parentNode,t))}for(fe(),r=n.length;r<i.length;r+=1)a(r);de()}},i(s){if(!l){for(let f=0;f<n.length;f+=1)F(i[f]);l=!0}},o(s){i=i.filter(Qe);for(let f=0;f<i.length;f+=1)W(i[f]);l=!1},d(s){s&&O(t),ce(i,s)}}}function vt(e){let t,l,n,i,a,s,f,r,o,u,g,_,c,p,b,j,z,v,m,B,M,N,S,E,k,A,$,ne,G,ke,V,Te,he,J,_e,Se,Z=U(e[1]),L=[];for(let w=0;w<Z.length;w+=1)L[w]=Oe(Me(e,Z,w));let Q=U(e[2]),R=[];for(let w=0;w<Q.length;w+=1)R[w]=Ie(Re(e,Q,w));const Xe=w=>W(R[w],1,1,()=>{R[w]=null});return{c(){t=y("main"),l=y("div"),n=P(),i=y("details"),a=y("summary"),a.textContent="Filters",s=P(),f=y("form");for(let w=0;w<L.length;w+=1)L[w].c();r=P(),o=y("div"),u=y("fieldset"),g=y("legend"),g.textContent="Name",_=P(),c=y("input"),p=P(),b=y("fieldset"),j=y("legend"),j.textContent="圖片尺寸",z=P(),v=y("div"),m=y("input"),B=P(),M=I(e[4]),N=I("px"),S=P(),E=y("div"),k=y("label"),A=y("input"),$=I(" 顯示圖示"),ne=P(),G=y("input"),ke=P(),V=y("div");for(let w=0;w<R.length;w+=1)R[w].c();Te=P(),he=y("footer"),he.innerHTML='<hr/> <h1>Blue Archive students filter</h1> <hr/> <details open=""><summary>url para:</summary> <ul><li>`name=xxx`: name filter</li> <li>`size=96`: image size</li> <li>`icon=1`: show type icon</li></ul></details> <hr/>\n\n    data &amp; image come from <a href="https://github.com/lonqie/SchaleDB">https://github.com/lonqie/SchaleDB</a>',d(l,"class","dynamic-style"),d(c,"type","search"),d(c,"placeholder","name"),c.autofocus=!0,d(c,"accesskey","q"),d(m,"type","range"),d(m,"step","12"),d(m,"min","48"),d(m,"max","96"),C(v,"display","inline-flex"),d(A,"type","checkbox"),d(G,"type","reset"),G.value="Reset",C(E,"display","flex"),C(E,"justify-content","space-between"),d(f,"class","filter-form"),d(i,"class","filters"),i.open=!0,d(V,"class","table"),C(V,"--avatar-size",e[4]),d(V,"data-name",e[0])},m(w,q){D(w,t,q),h(t,l),e[8](l),h(t,n),h(t,i),h(i,a),h(i,s),h(i,f);for(let T=0;T<L.length;T+=1)L[T]&&L[T].m(f,null);h(f,r),h(f,o),h(o,u),h(u,g),h(u,_),h(u,c),re(c,e[0]),h(o,p),h(o,b),h(b,j),h(b,z),h(b,v),h(v,m),re(m,e[4]),h(v,B),h(v,M),h(v,N),h(o,S),h(o,E),h(E,k),h(k,A),A.checked=e[5],h(k,$),h(E,ne),h(E,G),h(t,ke),h(t,V);for(let T=0;T<R.length;T+=1)R[T]&&R[T].m(V,null);h(t,Te),h(t,he),J=!0,c.focus(),_e||(Se=[ee(c,"input",e[10]),ee(m,"change",e[11]),ee(m,"input",e[11]),ee(A,"change",e[12]),ee(f,"reset",e[7])],_e=!0)},p(w,q){if(q[0]&2){Z=U(w[1]);let T;for(T=0;T<Z.length;T+=1){const ie=Me(w,Z,T);L[T]?L[T].p(ie,q):(L[T]=Oe(ie),L[T].c(),L[T].m(f,r))}for(;T<L.length;T+=1)L[T].d(1);L.length=Z.length}if(q[0]&1&&c.value!==w[0]&&re(c,w[0]),q[0]&16&&re(m,w[4]),(!J||q[0]&16)&&K(M,w[4]),q[0]&32&&(A.checked=w[5]),q[0]&116){Q=U(w[2]);let T;for(T=0;T<Q.length;T+=1){const ie=Re(w,Q,T);R[T]?(R[T].p(ie,q),F(R[T],1)):(R[T]=Ie(ie),R[T].c(),F(R[T],1),R[T].m(V,null))}for(fe(),T=Q.length;T<R.length;T+=1)Xe(T);de()}(!J||q[0]&16)&&C(V,"--avatar-size",w[4]),(!J||q[0]&1)&&d(V,"data-name",w[0])},i(w){if(!J){for(let q=0;q<Q.length;q+=1)F(R[q]);J=!0}},o(w){R=R.filter(Qe);for(let q=0;q<R.length;q+=1)W(R[q]);J=!1},d(w){w&&O(t),e[8](null),ce(L,w),ce(R,w),_e=!1,Y(Se)}}}function yt(e,t,l){let n=["School","TacticRole","Position","BulletType","ArmorType"],i=["Explosion","Pierce","Mystic","Sonic"],a=[],s,f=new URLSearchParams(location.search),r=f.get("name"),o=[],u={name:"",checkbox:""},g=+f.get("size")||96,_=!!+f.get("icon");j();function c(){if(!s)return;let k=u.name+u.checkbox;l(3,s.innerHTML=k?`<style>${k}</style>`:"",s)}function p(){let k=r==null?void 0:r.trim();u.name=k?`.student.student.student.student:not([data-name*="${k}"]) { display: none; }`:"",c()}function b(){let k=o.map($=>$.filters.filter(G=>G.value).length?$.filters.filter(G=>!G.value).map(G=>`[data-${$.prop.toLowerCase()}="${G.label}"]`):void 0).flat().filter(Boolean),A=k.length?k.map($=>`.student${$}`).join()+"{ display: none !important; }":"";u.checkbox=A,c()}async function j(){let k=await fetch(dt).then(A=>A.json());v(k),z(k)}function z(k){l(1,o=n.map(A=>({prop:A,filters:[...new Set(k.map($=>$[A]))].map($=>({label:$,value:!1}))})))}function v(k){l(2,a=[]),k.forEach(A=>{let $=i.findIndex(ne=>ne===A.BulletType);a[$]||l(2,a[$]=[[],[]],a),a[$][A.SquadType==="Main"?0:1].push(A)})}function m(){l(0,r=""),o.forEach(k=>{k.filters.forEach(A=>{A.value=!1})}),l(1,o)}function B(k){ge[k?"unshift":"push"](()=>{s=k,l(3,s)})}function M(k,A){k[A].value=this.checked,l(1,o)}function N(){r=this.value,l(0,r)}function S(){g=tt(this.value),l(4,g)}function E(){_=this.checked,l(5,_)}return e.$$.update=()=>{e.$$.dirty[0]&1&&p(),e.$$.dirty[0]&2&&b()},[r,o,a,s,g,_,i,m,B,M,N,S,E]}class bt extends Je{constructor(t){super(),We(this,t,yt,vt,Ge,{},null,[-1,-1])}}new bt({target:document.getElementById("app")});
